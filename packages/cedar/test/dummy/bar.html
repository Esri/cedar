<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Cedar - bar chart</title>

  </head>
  <body id="" onload="">
    <!-- Styles -->
    <style>
    .chart {
      width: 100%;
      height: 400px;
    }
    </style>

    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/serial.js"></script>
    <!-- TODO: need to verify this works w/o export -->
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
    <script src="../../../cedar-utils/dist/cedar-utils.js"></script>
    <script src="../../../cedar-amcharts/dist/cedarAmCharts.js"></script>
    <script src="../../dist/cedar.js"></script>

<!-- Chart code -->
<script>
var config = {
  type: 'bar',
  datasets: [
    {
      url: 'https://services.arcgis.com/uDTUpUPbk8X8mXwl/arcgis/rest/services/Public_Schools_in_Onondaga_County/FeatureServer/0',
      query: {
        orderByFields: 'Number_of_SUM DESC',
        groupByFieldsForStatistics: 'Type',
        outStatistics: [
          {
            statisticType: 'sum',
            onStatisticField: 'Number_of',
            outStatisticFieldName: 'Number_of_SUM'
          }
        ]
      }
    }
  ],
  series: [
    {
      category: {field: 'Type', label: 'Type'},
      value: {field: 'Number_of_SUM', label: 'Number of Students'}
    }
  ],
  overrides: {
    categoryAxis: {
      labelRotation: -45
    }
  }
}
const cedar = new Cedar(config);
console.log(cedar)
cedar.show("chartdiv1")

</script>

<!-- HTML -->
<a href="./">&lt; Back Home</a>
<div id="chartdiv1" class="chart"></div>

<pre>
  <code>
var config = {
  type: 'bar',
  datasets: [
    {
      url: 'https://services.arcgis.com/uDTUpUPbk8X8mXwl/arcgis/rest/services/Public_Schools_in_Onondaga_County/FeatureServer/0',
      query: {
        orderByFields: 'Number_of_SUM DESC',
        groupByFieldsForStatistics: 'Type',
        outStatistics: [
          {
            statisticType: 'sum',
            onStatisticField: 'Number_of',
            outStatisticFieldName: 'Number_of_SUM'
          }
        ]
      }
    }
  ],
  series: [
    {
      category: {field: 'Type', label: 'Type'},
      value: {field: 'Number_of_SUM', label: 'Number of Students'}
    }
  ],
  overrides: {
    categoryAxis: {
      labelRotation: -45
    }
  }
}
const cedar = new Cedar(config);
console.log(cedar)
cedar.show("chartdiv1")
  </code>
</pre>
  </body>
</html>
