<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Cedar - Donut chart</title>

  </head>
  <body id="" onload="">
    <!-- Styles -->
    <style>
    .chart {
      width: 100%;
      height: 300px;
    }
    </style>

    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/pie.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
    <script src="../../../cedar-utils/dist/cedar-utils.js"></script>
    <script src="../../../cedar-amcharts/dist/cedarAmCharts.js"></script>
    <script src="../../dist/cedar.js"></script>

<!-- Chart code -->
<script>
var config1 = {
  type: 'donut',
  datasets: [
    {
      "url": "https://services7.arcgis.com/BBpPn9wZu2D6eTNY/arcgis/rest/services/smaller_collisions_indicator_data/FeatureServer/0",
      "query": {
        "orderByFields": "FIRSTHARMFULEVENTSPECIFICS DESC",
        "groupByFieldsForStatistics": "FIRSTHARMFULEVENTSPECIFICS",
        "outStatistics": [
          {
            "statisticType": "count",
            "onStatisticField": "FIRSTHARMFULEVENTSPECIFICS",
            "outStatisticFieldName": "FIRSTHARMFULEVENTSPECIFICS_COUNT"
          }
        ]
      }
    }
  ],
  series: [
    {
      "category": {"field": "FIRSTHARMFULEVENTSPECIFICS", "label": "Type"},
      "value": {
        "field": "FIRSTHARMFULEVENTSPECIFICS_COUNT",
        "label": "Number of Events"
      }
    }
  ]
}
const cedar = new Cedar(config1);
cedar.show("chartdiv1");
</script>

<!-- HTML -->
<a href="./">&lt; Back Home</a>
<div id="chartdiv1" class="chart"></div>

<pre>
  <code>
var config1 = {
  type: 'donut',
  datasets: [
    {
      "url": "https://services7.arcgis.com/BBpPn9wZu2D6eTNY/arcgis/rest/services/smaller_collisions_indicator_data/FeatureServer/0",
      "query": {
        "orderByFields": "FIRSTHARMFULEVENTSPECIFICS DESC",
        "groupByFieldsForStatistics": "FIRSTHARMFULEVENTSPECIFICS",
        "outStatistics": [
          {
            "statisticType": "count",
            "onStatisticField": "FIRSTHARMFULEVENTSPECIFICS",
            "outStatisticFieldName": "FIRSTHARMFULEVENTSPECIFICS_COUNT"
          }
        ]
      }
    }
  ],
  series: [
    {
      "category": {"field": "FIRSTHARMFULEVENTSPECIFICS", "label": "Type"},
      "value": {
        "field": "FIRSTHARMFULEVENTSPECIFICS_COUNT",
        "label": "Number of Events"
      }
    }
  ]
}
const cedar = new Cedar(config1);
cedar.show("chartdiv1");
  </code>
</pre>
  </body>
</html>
