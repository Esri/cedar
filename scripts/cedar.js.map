{"version":3,"file":"cedar.js","sources":["../../../../node_modules/deepmerge/dist/es.js","../../../cedar-amcharts/dist/esm/specs/area.js","../../../cedar-amcharts/dist/esm/specs/bar.js","../../../cedar-amcharts/dist/esm/specs/bar-horizontal.js","../../../cedar-amcharts/dist/esm/specs/line.js","../../../cedar-amcharts/dist/esm/specs/pie.js","../../../cedar-amcharts/dist/esm/specs/radar.js","../../../cedar-amcharts/dist/esm/specs/scatter.js","../../../cedar-amcharts/dist/esm/specs/timeline.js","../../../cedar-amcharts/dist/esm/specs/specs.js","../../../cedar-amcharts/dist/esm/render/render.js","../../../cedar-amcharts/dist/esm/index.js","../esm/dataset.js","../../../../node_modules/tslib/tslib.es6.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/process-params.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-query-string.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/encode-form-data.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISRequestError.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/ArcGISAuthError.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/check-for-errors.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/warn.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/request.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/append-custom-params.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/clean-url.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/utils/ErrorTypes.js","../../../../node_modules/@esri/arcgis-rest-request/dist/esm/index.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/query.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/add.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/update.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/delete.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/getAttachments.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/addAttachment.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/updateAttachment.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/deleteAttachments.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/queryRelated.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/getLayer.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/decodeValues.js","../../../../node_modules/@esri/arcgis-rest-feature-layer/dist/esm/index.js","../esm/config.js","../esm/query/url.js","../esm/query/query.js","../esm/Chart.js","../esm/index.js"],"sourcesContent":["var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true;\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice();\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument);\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument);\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument));\n        }\n    });\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {};\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function(key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument);\n        });\n    }\n    Object.keys(source).forEach(function(key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument);\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument);\n        }\n    });\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var sourceIsArray = Array.isArray(source);\n    var targetIsArray = Array.isArray(target);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge };\n    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n    if (!sourceAndTargetTypesMatch) {\n        return cloneIfNecessary(source, optionsArgument)\n    } else if (sourceIsArray) {\n        var arrayMerge = options.arrayMerge || defaultArrayMerge;\n        return arrayMerge(target, source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","var area = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0.5,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true,\n        markerSize: 10\n    },\n    valueAxes: [{\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default area;\n//# sourceMappingURL=area.js.map","export var bar = {\n    type: 'serial',\n    rotate: false,\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false\n    },\n    graphs: [{\n            type: 'column',\n            newStack: true\n        }],\n    legend: {\n        valueAlign: 'left',\n        spacing: 25\n    },\n    valueAxes: [{\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default bar;\n//# sourceMappingURL=bar.js.map","export var barHorizontal = {\n    type: 'serial',\n    theme: 'calcite',\n    rotate: true,\n    chartCursor: {\n        leaveCursor: true,\n        valueLineEnabled: true,\n        categoryBalloonEnabled: false\n    },\n    graphs: [{\n            type: 'column',\n        }],\n    legend: {},\n    valueAxes: [{\n            gridAlpha: 0.2,\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default barHorizontal;\n//# sourceMappingURL=bar-horizontal.js.map","var line = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            // bulletColor: '#FFFFFF',\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        // horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default line;\n//# sourceMappingURL=line.js.map","var pie = {\n    type: 'pie',\n    theme: 'calcite',\n    innerRadius: '0%',\n    startDuration: 0,\n    graphs: [{}],\n    groupPercent: 5,\n    balloon: {\n        fixedPosition: true\n    },\n    legend: {\n        enabled: false\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default pie;\n//# sourceMappingURL=pie.js.map","var radar = {\n    type: 'radar',\n    valueAxes: [{\n            gridType: 'circles',\n            minimum: 0\n        }],\n    polarScatter: {\n        minimum: 0,\n        maximum: 400,\n        step: 1\n    },\n    startDuration: 0,\n    graphs: [{ graphFillAlpha: 0 }],\n    groupPercent: 5,\n    balloon: {\n        fixedPosition: true\n    },\n    legend: {\n        position: 'right',\n        marginRight: 100,\n        autoMargins: false\n    },\n};\nexport default radar;\n//# sourceMappingURL=radar.js.map","var scatter = {\n    type: 'xy',\n    theme: 'calcite',\n    valueAxes: [{\n            axisAlpha: 0.8,\n            gridAlpha: 0.2,\n            position: 'bottom',\n        }, {\n            axisAlpha: 0.8,\n            gridAlpha: 0.2,\n            position: 'left'\n        }],\n    chartScrollbar: {\n        scrollbarHeight: 5,\n        offset: -1,\n        backgroundAlpha: 0.1,\n        backgroundColor: '#888888',\n        selectedBackgroundColor: '#67b7dc',\n        selectedBackgroundAlpha: 1,\n        dragIconWidth: 15,\n        dragIconHeight: 15,\n    },\n    chartCursor: {\n        categoryBalloonEnabled: true,\n        cursorAlpha: 0.3,\n        valueLineAlpha: 0.3,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            fillAlphas: 0,\n            lineAlpha: 0,\n            bullet: 'circle',\n            bulletBorderAlpha: 0.2,\n            bulletAlpha: 0.8,\n            valueField: null,\n            xField: null,\n            yField: null,\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default scatter;\n//# sourceMappingURL=scatter.js.map","var timeline = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            // bulletColor: '#FFFFFF',\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        // horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true\n    },\n    categoryAxis: {\n        parseDates: true\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default timeline;\n//# sourceMappingURL=timeline.js.map","import area from './area';\nimport bar from './bar';\nimport barHorizontal from './bar-horizontal';\nimport line from './line';\nimport pie from './pie';\nimport radar from './radar';\nimport scatter from './scatter';\nimport timeline from './timeline';\nvar specs = {\n    bar: bar,\n    'bar-horizontal': barHorizontal,\n    line: line,\n    area: area,\n    pie: pie,\n    radar: radar,\n    scatter: scatter,\n    timeline: timeline\n};\nexport default specs;\n//# sourceMappingURL=specs.js.map","import merge from 'deepmerge';\nimport specs from '../specs/specs';\n// TODO: how to have access to IDefinition\nexport function renderChart(elementId, definition, data) {\n    if (definition.type === 'custom') {\n        var chart_1 = AmCharts.makeChart(elementId, definition.specification);\n        return chart_1;\n    }\n    // Clone/copy spec and data\n    // Longer than normal conditional so setting as its own const\n    var hasSpecAndIsntString = definition.specification && typeof definition.specification !== 'string';\n    // ternary checking to see if there is a def.spec and that it is NOT a string (url)\n    // if true than return def.spec. If not true than fetch a premade spec\n    var spec = hasSpecAndIsntString ? clone(definition.specification) : fetchSpec(definition.type);\n    var copyData = clone(data);\n    // Set the spec's data\n    spec.dataProvider = copyData;\n    // Apply the series\n    if (!!definition.datasets) {\n        spec = fillInSpec(spec, definition);\n    }\n    // Apply overrides\n    if (definition.overrides) {\n        // NOTE: this counts on using deepmerge < 2.x\n        // see: https://github.com/KyleAMathews/deepmerge#arraymerge\n        spec = merge(spec, definition.overrides, { clone: true });\n    }\n    var chart = AmCharts.makeChart(elementId, spec);\n    // If it is a pie chart\n    if (definition.type === 'pie') {\n        // Set pie chart balloonText\n        chart.balloonText = getPieBalloonText(definition);\n    }\n    return chart;\n}\nfunction getPieBalloonText(definition) {\n    // Set label based on whether or not there actually is a category label\n    var categoryLabel = !!definition.series[0].category.label ? definition.series[0].category.label + \": \" : '';\n    // Set label based on whether or not there actually is a value label\n    var valueLabel = !!definition.series[0].value.label ? definition.series[0].value.label + \": \" : '';\n    // return balloonText\n    return \"<div>\" + categoryLabel + \"[[title]]</div><div>\" + valueLabel + \"[[percents]]% ([[value]])</div>\";\n}\nexport function fillInSpec(spec, definition) {\n    // Grab the graphSpec from the spec\n    var graphSpec = spec.graphs.pop();\n    var isJoined = definition.datasets.length > 1;\n    // category field will be 'categoryField' in the case of joined datasets\n    // otherwise get it from the first series\n    spec.categoryField = isJoined ? 'categoryField' : definition.series[0].category.field;\n    // Set tabIndex for the chart\n    spec.tabIndex = 0;\n    // Add a legend in case it's not on the spec\n    if (!spec.legend) {\n        spec.legend = {};\n    }\n    // TODO This is needed as 'legend.enable' has been renamed 'legend.visible'. We are only introducing\n    // breaking changes on major releases.\n    // Remove the line below on next breaking change\n    /* istanbul ignore next since we're going to remove this */\n    if (definition.legend && definition.legend.hasOwnProperty('enable')) {\n        definition.legend.visible = definition.legend.enable;\n    }\n    // adjust legend and axis labels for single series charts\n    if (definition.series.length === 1 && (definition.type !== 'pie' && definition.type !== 'radar')) {\n        // don't show legend by default for single series charts\n        spec.legend.enabled = false;\n        // get default axis labels from series\n        var categoryAxisTitle_1 = definition.series[0].category.label;\n        var valueAxisTitle_1 = definition.series[0].value.label;\n        if (spec.type === 'xy' && Array.isArray(spec.valueAxes)) {\n            // for xy charts we treat the x axis as the category axis\n            // and the y axis as the value axis\n            spec.valueAxes.forEach(function (axis) {\n                /* istanbul ignore else since we can only be smart about bottom/left axis labels */\n                if (axis.position === 'bottom') {\n                    axis.title = categoryAxisTitle_1;\n                }\n                else if (axis.position === 'left') {\n                    axis.title = valueAxisTitle_1;\n                }\n            });\n        }\n        else {\n            // line/area specs don't define axes\n            if (!spec.valueAxes) {\n                spec.valueAxes = [{}];\n            }\n            spec.valueAxes[0].title = definition.series[0].value.label;\n            spec.valueAxes[0].position = 'left';\n            /* istanbul ignore else until we have a test for a timeline definition/spec */\n            if (!spec.categoryAxis) {\n                spec.categoryAxis = {};\n            }\n            spec.categoryAxis.title = categoryAxisTitle_1;\n        }\n    }\n    // Handle Legend in case.\n    if (definition.legend) {\n        var legend = definition.legend;\n        var supportedLegendPositions = ['top', 'bottom', 'left', 'right'];\n        if (legend.hasOwnProperty('visible')) {\n            spec.legend.enabled = legend.visible;\n            // If there is a legend on the page add a tabIndex\n            spec.legend.tabIndex = 0;\n        }\n        if (legend.position && supportedLegendPositions.indexOf(legend.position) > -1) {\n            spec.legend.position = legend.position;\n        }\n    }\n    // Handle styles...\n    /* istanbul ignore if */\n    if (definition.style) {\n        // snag out style\n        var style = definition.style;\n        // handle margins\n        /* istanbul ignore if */\n        if (style.padding) {\n            var padding = style.padding;\n            // Assume we need to set auto margins false\n            spec.autoMargins = false;\n            if (padding.hasOwnProperty('top')) {\n                spec.marginTop = padding.top;\n            }\n            if (padding.hasOwnProperty('bottom')) {\n                spec.marginBottom = padding.bottom;\n            }\n            if (padding.hasOwnProperty('left')) {\n                spec.marginLeft = padding.left;\n            }\n            if (padding.hasOwnProperty('right')) {\n                spec.marginRight = padding.right;\n            }\n        }\n        // If there is a pie property\n        /* istanbul ignore if */\n        if (style.pie) {\n            var pie = style.pie;\n            // A range from 0 - n where n is the inner radius of the pie chart. Anything above a 0\n            // turns the chart into a donut chart. Can be a number for pixels or a percent.\n            if (pie.hasOwnProperty('innerRadius')) {\n                spec.innerRadius = pie.innerRadius;\n            }\n            // How far a pie chart slice will pull out when selected. Can be a number for pixels or a percent\n            if (pie.hasOwnProperty('expand')) {\n                spec.pullOutRadius = pie.expand;\n            }\n        }\n        if (style.colors && Array.isArray(style.colors)) {\n            spec.colors = style.colors;\n        }\n    }\n    // Iterate over datasets\n    definition.datasets.forEach(function (dataset, d) {\n        var datasetName = dataset.name;\n        // For each dataset iterate over series\n        definition.series.forEach(function (series, s) {\n            if (dataset.name === series.source) {\n                var graph = clone(graphSpec);\n                // use the value field label for the graph's title\n                graph.title = series.value.label;\n                // value field will contain dataset name if joined\n                graph.valueField = isJoined ? datasetName + \"_\" + series.value.field : series.value.field;\n                // TODO: map other fields besides value like color, size, etc\n                // tooltip\n                graph.balloonText = \"<div>\" + series.category.label + \": [[\" + spec.categoryField + \"]]</div><div>\" + graph.title + \": [[\" + graph.valueField + \"]]</div>\";\n                // Group vs. stack\n                if (!!series.stack && graph.newStack) {\n                    graph.newStack = false;\n                }\n                // special props for pie charts\n                if (definition.type === 'pie') {\n                    spec.titleField = spec.categoryField;\n                    spec.valueField = graph.valueField;\n                }\n                // special props for x/y types (scatter, bubble)\n                if (spec.type === 'xy' && !!series.category && !!series.value) {\n                    graph.xField = series.category.field;\n                    graph.yField = series.value.field;\n                    graph.balloonText = \"<div>\" + series.category.label + \": [[\" + series.category.field + \"]]</div><div>\" + series.value.label + \": [[\" + series.value.field + \"]]</div>\";\n                    // bubble\n                    if (spec.type === 'xy' && series.size) {\n                        graph.valueField = series.size.field;\n                        graph.balloonText = graph.balloonText + \"<div>\" + series.size.label + \": [[\" + graph.valueField + \"]]</div>\";\n                    }\n                    else {\n                        delete graph.valueField;\n                    }\n                }\n                spec.graphs.push(graph);\n            }\n        });\n    });\n    return spec;\n}\nexport function fetchSpec(type) {\n    var spec = type;\n    if (spec === 'time') {\n        console.warn(\"'time' is no longer a supported type. Please use 'timeline' instead\");\n        spec = 'timeline';\n    }\n    else if (spec === 'bubble') {\n        console.warn(\"'bubble' is no longer a supported type. Please use 'scatter' instead\");\n        spec = 'scatter';\n    }\n    else if (spec === 'grouped') {\n        console.warn(\"'grouped' is no longer a supported type. Please use 'bar' instead\");\n        spec = 'bar';\n    }\n    return clone(specs[spec]);\n}\nfunction clone(json) {\n    return JSON.parse(JSON.stringify(json));\n}\n// TODO: remove\nvar render = {\n    renderChart: renderChart,\n    fillInSpec: fillInSpec,\n    fetchSpec: fetchSpec\n};\nexport default render;\n//# sourceMappingURL=render.js.map","import render from './render/render';\nexport function cedarAmCharts(elementId, definition, data) {\n    if ((!elementId || !definition || !data) && (definition.type && definition.type !== 'custom')) {\n        var err = new Error('Element Id, definition, and data are all required.');\n        throw err;\n    }\n    if (definition.type && definition.type === 'custom') {\n        return render.renderChart(elementId, definition);\n    }\n    return render.renderChart(elementId, definition, data);\n}\nexport default cedarAmCharts;\n//# sourceMappingURL=index.js.map","// if it's a feature set, return the array of features\n// otherwise just return the array of objects that was passed in\nfunction getFeatures(data) {\n    return data.features ? data.features : data;\n}\n// if it's a feature, return the attributes\n// otherwise return the entire object that was passed in\nfunction getAttributes(row) {\n    /* istanbul ignore else since that only happens when features are mixed with rows */\n    if (row.attributes) {\n        return row.attributes;\n    }\n    else {\n        return row;\n    }\n}\n// get an array of value field names from a dataset's series\nfunction getDatasetValueFields(datasetName, series) {\n    return series.reduce(function (fields, s) {\n        if (s.source === datasetName && s.value) {\n            fields.push(s.value.field);\n        }\n        return fields;\n    }, []);\n}\n// get a unique field (property) name for a dataset/value field\nfunction getDatasetValueFieldName(datasetName, valueField) {\n    return datasetName + \"_\" + valueField;\n}\nfunction getDatasetData(dataset, datasetsData, name) {\n    var datasetName = dataset.name || name;\n    return dataset.data || datasetsData[datasetName];\n}\n// if data is a feature set or array of features\n// return only the attributes for each feature\nfunction flattenData(data) {\n    var features = getFeatures(data);\n    if (features.length > 0 && features[0].attributes) {\n        // these really are features, flatten them before\n        return features.map(getAttributes);\n    }\n    else {\n        // assume this is an array of objects and don't\n        return features;\n    }\n}\n// join data from multiple datasets into a single table\nfunction joinData(datasets, series, datasetsData) {\n    // first build a hash whose keys for each of the\n    // unique values in the join columns of the datasets\n    // and the value of each is a row with the joined values\n    var hashTable = datasets.reduce(function (index, dataset, i) {\n        // get the attribute that this dataset will be joined on\n        var joinKey = dataset.join;\n        // TODO: what if no joinKey, throw error? skip this dataset?\n        // if dataset doesn't have inline data use data that was passed in\n        var datasetData = getDatasetData(dataset, datasetsData);\n        // TODO: what if no datasetData, throw error? skip this dataset?\n        // get the value fields for this dataset from it's series\n        var datasetName = dataset.name;\n        var valueFields = getDatasetValueFields(datasetName, series);\n        // TODO: what if no valueFields, throw error? skip this dataset?\n        getFeatures(datasetData).forEach(function (feature) {\n            // get the value of the column that this dataset should be joined on\n            var attrs = getAttributes(feature);\n            var joinValue = attrs[joinKey];\n            // start a new row for this value if there isn't one already\n            if (index[joinValue] === undefined) {\n                // use this value for the categoryField\n                index[joinValue] = { categoryField: joinValue };\n            }\n            // get the remaining values for this row\n            valueFields.reduce(function (row, valueField) {\n                // add a property to the row for this dataset and value field\n                row[getDatasetValueFieldName(datasetName, valueField)] = attrs[valueField];\n                // valueFields.splice(i, 1)\n                return row;\n            }, index[joinValue]);\n        });\n        return index;\n    }, {});\n    // return the rows of joined values from the hash table\n    return Object.keys(hashTable).map(function (key) { return hashTable[key]; });\n}\n// flatten data from all datasets into a single table\nexport function getChartData(datasets, options) {\n    if (!datasets) {\n        return;\n    }\n    if (datasets.length < 1) {\n        return [];\n    }\n    var datasetsData = options && options.datasetsData;\n    if (datasets.length > 1) {\n        // TODO: what if no series? throw error?\n        var series = options && options.series;\n        // TODO: support other ways of merging (append, etc), but for now just\n        // join the feature sets into a single table\n        return joinData(datasets, series, datasetsData);\n    }\n    // just flatten the feature set into a table\n    // TODO: make name required on datasets, or required if > 1 dataset?\n    var datasetData = getDatasetData(datasets[0], datasetsData, 'dataset0');\n    return flattenData(datasetData);\n}\n//# sourceMappingURL=dataset.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Checks parameters to see if we should use FormData to send the request\n * @param params The object whose keys will be encoded.\n * @return A boolean indicating if FormData will be required.\n */\nexport function requiresFormData(params) {\n    return Object.keys(params).some(function (key) {\n        var value = params[key];\n        if (!value) {\n            return false;\n        }\n        if (value && value.toParam) {\n            value = value.toParam();\n        }\n        var type = value.constructor.name;\n        switch (type) {\n            case \"Array\":\n                return false;\n            case \"Object\":\n                return false;\n            case \"Date\":\n                return false;\n            case \"Function\":\n                return false;\n            case \"Boolean\":\n                return false;\n            case \"String\":\n                return false;\n            case \"Number\":\n                return false;\n            default:\n                return true;\n        }\n    });\n}\n/**\n * Converts parameters to the proper representation to send to the ArcGIS REST API.\n * @param params The object whose keys will be encoded.\n * @return A new object with properly encoded values.\n */\nexport function processParams(params) {\n    var newParams = {};\n    Object.keys(params).forEach(function (key) {\n        var param = params[key];\n        if (param && param.toParam) {\n            param = param.toParam();\n        }\n        if (!param &&\n            param !== 0 &&\n            typeof param !== \"boolean\" &&\n            typeof param !== \"string\") {\n            return;\n        }\n        var type = param.constructor.name;\n        var value;\n        // properly encodes objects, arrays and dates for arcgis.com and other services.\n        // ported from https://github.com/Esri/esri-leaflet/blob/master/src/Request.js#L22-L30\n        // also see https://github.com/Esri/arcgis-rest-js/issues/18:\n        // null, undefined, function are excluded. If you want to send an empty key you need to send an empty string \"\".\n        switch (type) {\n            case \"Array\":\n                // Based on the first element of the array, classify array as an array of objects to be stringified\n                // or an array of non-objects to be comma-separated\n                value =\n                    param[0] &&\n                        param[0].constructor &&\n                        param[0].constructor.name === \"Object\"\n                        ? JSON.stringify(param)\n                        : param.join(\",\");\n                break;\n            case \"Object\":\n                value = JSON.stringify(param);\n                break;\n            case \"Date\":\n                value = param.valueOf();\n                break;\n            case \"Function\":\n                value = null;\n                break;\n            case \"Boolean\":\n                value = param + \"\";\n                break;\n            default:\n                value = param;\n                break;\n        }\n        if (value || value === 0 || typeof value === \"string\") {\n            newParams[key] = value;\n        }\n    });\n    return newParams;\n}\n//# sourceMappingURL=process-params.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { processParams } from \"./process-params\";\nexport function encodeParam(key, value) {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n}\n/**\n * Encodes the passed object as a query string.\n *\n * @param params An object to be encoded.\n * @returns An encoded query string.\n */\nexport function encodeQueryString(params) {\n    var newParams = processParams(params);\n    return Object.keys(newParams)\n        .map(function (key) {\n        return encodeParam(key, newParams[key]);\n    })\n        .join(\"&\");\n}\n//# sourceMappingURL=encode-query-string.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { processParams, requiresFormData } from \"./process-params\";\nimport { encodeQueryString } from \"./encode-query-string\";\n/**\n * Encodes parameters in a [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object in browsers or in a [FormData](https://github.com/form-data/form-data) in Node.js\n *\n * @param params An object to be encoded.\n * @returns The complete [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object.\n */\nexport function encodeFormData(params, forceFormData) {\n    // see https://github.com/Esri/arcgis-rest-js/issues/499 for more info.\n    var useFormData = requiresFormData(params) || forceFormData;\n    var newParams = processParams(params);\n    if (useFormData) {\n        var formData_1 = new FormData();\n        Object.keys(newParams).forEach(function (key) {\n            if (typeof Blob !== \"undefined\" && newParams[key] instanceof Blob) {\n                /* To name the Blob:\n                 1. look to an alternate request parameter called 'fileName'\n                 2. see if 'name' has been tacked onto the Blob manually\n                 3. if all else fails, use the request parameter\n                */\n                var filename = newParams[\"fileName\"] || newParams[key].name || key;\n                formData_1.append(key, newParams[key], filename);\n            }\n            else {\n                formData_1.append(key, newParams[key]);\n            }\n        });\n        return formData_1;\n    }\n    else {\n        return encodeQueryString(params);\n    }\n}\n//# sourceMappingURL=encode-form-data.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n// TypeScript 2.1 no longer allows you to extend built in types. See https://github.com/Microsoft/TypeScript/issues/12790#issuecomment-265981442\n// and https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n//\n// This code is from MDN https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types.\nvar ArcGISRequestError = /** @class */ (function () {\n    /**\n     * Create a new `ArcGISRequestError`  object.\n     *\n     * @param message - The error message from the API\n     * @param code - The error code from the API\n     * @param response - The original response from the API that caused the error\n     * @param url - The original url of the request\n     * @param options - The original options and parameters of the request\n     */\n    function ArcGISRequestError(message, code, response, url, options) {\n        message = message || \"UNKNOWN_ERROR\";\n        code = code || \"UNKNOWN_ERROR_CODE\";\n        this.name = \"ArcGISRequestError\";\n        this.message =\n            code === \"UNKNOWN_ERROR_CODE\" ? message : code + \": \" + message;\n        this.originalMessage = message;\n        this.code = code;\n        this.response = response;\n        this.url = url;\n        this.options = options;\n    }\n    return ArcGISRequestError;\n}());\nexport { ArcGISRequestError };\nArcGISRequestError.prototype = Object.create(Error.prototype);\nArcGISRequestError.prototype.constructor = ArcGISRequestError;\n//# sourceMappingURL=ArcGISRequestError.js.map","import * as tslib_1 from \"tslib\";\nimport { ArcGISRequestError } from \"./ArcGISRequestError\";\nimport { request } from \"../request\";\nvar ArcGISAuthError = /** @class */ (function (_super) {\n    tslib_1.__extends(ArcGISAuthError, _super);\n    /**\n     * Create a new `ArcGISAuthError`  object.\n     *\n     * @param message - The error message from the API\n     * @param code - The error code from the API\n     * @param response - The original response from the API that caused the error\n     * @param url - The original url of the request\n     * @param options - The original options of the request\n     */\n    function ArcGISAuthError(message, code, response, url, options) {\n        if (message === void 0) { message = \"AUTHENTICATION_ERROR\"; }\n        if (code === void 0) { code = \"AUTHENTICATION_ERROR_CODE\"; }\n        var _this = _super.call(this, message, code, response, url, options) || this;\n        _this.name = \"ArcGISAuthError\";\n        _this.message =\n            code === \"AUTHENTICATION_ERROR_CODE\" ? message : code + \": \" + message;\n        return _this;\n    }\n    ArcGISAuthError.prototype.retry = function (getSession, retryLimit) {\n        var _this = this;\n        if (retryLimit === void 0) { retryLimit = 3; }\n        var tries = 0;\n        var retryRequest = function (resolve, reject) {\n            getSession(_this.url, _this.options)\n                .then(function (session) {\n                var newOptions = tslib_1.__assign({}, _this.options, { authentication: session });\n                tries = tries + 1;\n                return request(_this.url, newOptions);\n            })\n                .then(function (response) {\n                resolve(response);\n            })\n                .catch(function (e) {\n                if (e.name === \"ArcGISAuthError\" && tries < retryLimit) {\n                    retryRequest(resolve, reject);\n                }\n                else if (e.name === \"ArcGISAuthError\" && tries >= retryLimit) {\n                    reject(_this);\n                }\n                else {\n                    reject(e);\n                }\n            });\n        };\n        return new Promise(function (resolve, reject) {\n            retryRequest(resolve, reject);\n        });\n    };\n    return ArcGISAuthError;\n}(ArcGISRequestError));\nexport { ArcGISAuthError };\n//# sourceMappingURL=ArcGISAuthError.js.map","import { ArcGISRequestError } from \"./ArcGISRequestError\";\nimport { ArcGISAuthError } from \"./ArcGISAuthError\";\n/**\n * Checks for errors in a JSON response from the ArcGIS REST API. If there are no errors, it will return the `data` passed in. If there is an error, it will throw an `ArcGISRequestError` or `ArcGISAuthError`.\n *\n * @param data The response JSON to check for errors.\n * @param url The url of the original request\n * @param params The parameters of the original request\n * @param options The options of the original request\n * @returns The data that was passed in the `data` parameter\n */\nexport function checkForErrors(response, url, params, options) {\n    // this is an error message from billing.arcgis.com backend\n    if (response.code >= 400) {\n        var message = response.message, code = response.code;\n        throw new ArcGISRequestError(message, code, response, url, options);\n    }\n    // error from ArcGIS Online or an ArcGIS Portal or server instance.\n    if (response.error) {\n        var _a = response.error, message = _a.message, code = _a.code, messageCode = _a.messageCode;\n        var errorCode = messageCode || code || \"UNKNOWN_ERROR_CODE\";\n        if (code === 498 ||\n            code === 499 ||\n            messageCode === \"GWM_0003\" ||\n            (code === 400 && message === \"Unable to generate token.\")) {\n            throw new ArcGISAuthError(message, errorCode, response, url, options);\n        }\n        throw new ArcGISRequestError(message, errorCode, response, url, options);\n    }\n    // error from a status check\n    if (response.status === \"failed\" || response.status === \"failure\") {\n        var message = void 0;\n        var code = \"UNKNOWN_ERROR_CODE\";\n        try {\n            message = JSON.parse(response.statusMessage).message;\n            code = JSON.parse(response.statusMessage).code;\n        }\n        catch (e) {\n            message = response.statusMessage || response.message;\n        }\n        throw new ArcGISRequestError(message, code, response, url, options);\n    }\n    return response;\n}\n//# sourceMappingURL=check-for-errors.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Method used internally to surface messages to developers.\n */\nexport function warn(message) {\n    if (console && console.warn) {\n        console.warn.apply(console, [message]);\n    }\n}\n//# sourceMappingURL=warn.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { encodeFormData } from \"./utils/encode-form-data\";\nimport { encodeQueryString } from \"./utils/encode-query-string\";\nimport { requiresFormData } from \"./utils/process-params\";\nimport { checkForErrors } from \"./utils/check-for-errors\";\nimport { ArcGISRequestError } from \"./utils/ArcGISRequestError\";\nimport { warn } from \"./utils/warn\";\nexport var NODEJS_DEFAULT_REFERER_HEADER = \"@esri/arcgis-rest-js\";\nvar DEFAULT_ARCGIS_REQUEST_OPTIONS = {\n    httpMethod: \"POST\",\n    params: {\n        f: \"json\"\n    }\n};\n/**\n * Sets the default options that will be passed in **all requests across all `@esri/arcgis-rest-js` modules**.\n *\n *\n * ```js\n * import { setDefaultRequestOptions } from \"@esri/arcgis-rest-request\";\n * setDefaultRequestOptions({\n *   authentication: userSession // all requests will use this session by default\n * })\n * ```\n * You should **never** set a default `authentication` when you are in a server side environment where you may be handling requests for many different authenticated users.\n *\n * @param options The default options to pass with every request. Existing default will be overwritten.\n * @param hideWarnings Silence warnings about setting default `authentication` in shared environments.\n */\nexport function setDefaultRequestOptions(options, hideWarnings) {\n    if (options.authentication && !hideWarnings) {\n        warn(\"You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning.\");\n    }\n    DEFAULT_ARCGIS_REQUEST_OPTIONS = options;\n}\n/**\n * ```js\n * import { request } from '@esri/arcgis-rest-request';\n * //\n * request('https://www.arcgis.com/sharing/rest')\n *   .then(response) // response.currentVersion === 5.2\n * //\n * request('https://www.arcgis.com/sharing/rest', {\n *   httpMethod: \"GET\"\n * })\n * //\n * request('https://www.arcgis.com/sharing/rest/search', {\n *   params: { q: 'parks' }\n * })\n *   .then(response) // response.total => 78379\n * ```\n * Generic method for making HTTP requests to ArcGIS REST API endpoints.\n *\n * @param url - The URL of the ArcGIS REST API endpoint.\n * @param requestOptions - Options for the request, including parameters relevant to the endpoint.\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function request(url, requestOptions) {\n    if (requestOptions === void 0) { requestOptions = { params: { f: \"json\" } }; }\n    var options = tslib_1.__assign({ httpMethod: \"POST\" }, DEFAULT_ARCGIS_REQUEST_OPTIONS, requestOptions, {\n        params: tslib_1.__assign({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.params, requestOptions.params),\n        headers: tslib_1.__assign({}, DEFAULT_ARCGIS_REQUEST_OPTIONS.headers, requestOptions.headers)\n    });\n    var missingGlobals = [];\n    var recommendedPackages = [];\n    // don't check for a global fetch if a custom implementation was passed through\n    if (!options.fetch && typeof fetch !== \"undefined\") {\n        options.fetch = fetch.bind(Function(\"return this\")());\n    }\n    else {\n        missingGlobals.push(\"`fetch`\");\n        recommendedPackages.push(\"`isomorphic-fetch`\");\n    }\n    if (typeof Promise === \"undefined\") {\n        missingGlobals.push(\"`Promise`\");\n        recommendedPackages.push(\"`es6-promise`\");\n    }\n    if (typeof FormData === \"undefined\") {\n        missingGlobals.push(\"`FormData`\");\n        recommendedPackages.push(\"`isomorphic-form-data`\");\n    }\n    if (!options.fetch ||\n        typeof Promise === \"undefined\" ||\n        typeof FormData === \"undefined\") {\n        throw new Error(\"`arcgis-rest-request` requires global variables for `fetch`, `Promise` and `FormData` to be present in the global scope. You are missing \" + missingGlobals.join(\", \") + \". We recommend installing the \" + recommendedPackages.join(\", \") + \" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.\");\n    }\n    var httpMethod = options.httpMethod, authentication = options.authentication, rawResponse = options.rawResponse;\n    var params = tslib_1.__assign({ f: \"json\" }, options.params);\n    var fetchOptions = {\n        method: httpMethod,\n        /* ensures behavior mimics XMLHttpRequest.\n        needed to support sending IWA cookies */\n        credentials: \"same-origin\"\n    };\n    return (authentication\n        ? authentication.getToken(url, { fetch: options.fetch }).catch(function (err) {\n            /* if necessary, append original request url and\n             requestOptions to the error thrown by getToken() */\n            err.url = url;\n            err.options = options;\n            throw err;\n        })\n        : Promise.resolve(\"\"))\n        .then(function (token) {\n        if (token.length) {\n            params.token = token;\n        }\n        if (fetchOptions.method === \"GET\") {\n            // encode the parameters into the query string\n            var queryParams = encodeQueryString(params);\n            // dont append a '?' unless parameters are actually present\n            var urlWithQueryString = queryParams === \"\" ? url : url + \"?\" + encodeQueryString(params);\n            if (options.maxUrlLength &&\n                urlWithQueryString.length > options.maxUrlLength) {\n                // the consumer specified a maximum length for URLs\n                // and this would exceed it, so use post instead\n                fetchOptions.method = \"POST\";\n            }\n            else {\n                // just use GET\n                url = urlWithQueryString;\n            }\n        }\n        /* updateResources currently requires FormData even when the input parameters dont warrant it.\n    https://developers.arcgis.com/rest/users-groups-and-items/update-resources.htm\n        see https://github.com/Esri/arcgis-rest-js/pull/500 for more info. */\n        var forceFormData = new RegExp(\"/items/.+/updateResources\").test(url);\n        if (fetchOptions.method === \"POST\") {\n            fetchOptions.body = encodeFormData(params, forceFormData);\n        }\n        // Mixin headers from request options\n        fetchOptions.headers = tslib_1.__assign({}, options.headers);\n        /* istanbul ignore next - karma reports coverage on browser tests only */\n        if (typeof window === \"undefined\" && !fetchOptions.headers.referer) {\n            fetchOptions.headers.referer = NODEJS_DEFAULT_REFERER_HEADER;\n        }\n        /* istanbul ignore else blob responses are difficult to make cross platform we will just have to trust the isomorphic fetch will do its job */\n        if (!requiresFormData(params) && !forceFormData) {\n            fetchOptions.headers[\"Content-Type\"] =\n                \"application/x-www-form-urlencoded\";\n        }\n        return options.fetch(url, fetchOptions);\n    })\n        .then(function (response) {\n        if (!response.ok) {\n            // server responded w/ an actual error (404, 500, etc)\n            var status_1 = response.status, statusText = response.statusText;\n            throw new ArcGISRequestError(statusText, \"HTTP \" + status_1, response, url, options);\n        }\n        if (rawResponse) {\n            return response;\n        }\n        switch (params.f) {\n            case \"json\":\n                return response.json();\n            case \"geojson\":\n                return response.json();\n            case \"html\":\n                return response.text();\n            case \"text\":\n                return response.text();\n            /* istanbul ignore next blob responses are difficult to make cross platform we will just have to trust that isomorphic fetch will do its job */\n            default:\n                return response.blob();\n        }\n    })\n        .then(function (data) {\n        if ((params.f === \"json\" || params.f === \"geojson\") && !rawResponse) {\n            return checkForErrors(data, url, params, options);\n        }\n        else {\n            return data;\n        }\n    });\n}\n//# sourceMappingURL=request.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\n/**\n * Helper for methods with lots of first order request options to pass through as request parameters.\n */\nexport function appendCustomParams(customOptions, keys, baseOptions) {\n    var requestOptionsKeys = [\n        \"params\",\n        \"httpMethod\",\n        \"rawResponse\",\n        \"authentication\",\n        \"portal\",\n        \"fetch\",\n        \"maxUrlLength\",\n        \"headers\"\n    ];\n    var options = tslib_1.__assign({ params: {} }, baseOptions, customOptions);\n    // merge all keys in customOptions into options.params\n    options.params = keys.reduce(function (value, key) {\n        if (customOptions[key] || typeof customOptions[key] === \"boolean\") {\n            value[key] = customOptions[key];\n        }\n        return value;\n    }, options.params);\n    // now remove all properties in options that don't exist in IRequestOptions\n    return requestOptionsKeys.reduce(function (value, key) {\n        if (options[key]) {\n            value[key] = options[key];\n        }\n        return value;\n    }, {});\n}\n//# sourceMappingURL=append-custom-params.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Helper method to ensure that user supplied urls don't include whitespace or a trailing slash.\n */\nexport function cleanUrl(url) {\n    // trim leading and trailing spaces, but not spaces inside the url\n    url = url.trim();\n    // remove the trailing slash to the url if one was included\n    if (url[url.length - 1] === \"/\") {\n        url = url.slice(0, -1);\n    }\n    return url;\n}\n//# sourceMappingURL=clean-url.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Enum describing the different errors that might be thrown by a request.\n *\n * ```ts\n * import { request, ErrorTypes } from '@esri/arcgis-rest-request';\n *\n * request(\"...\").catch((e) => {\n *   switch(e.name) {\n *     case ErrorType.ArcGISRequestError:\n *     // handle a general error from the API\n *     break;\n *\n *     case ErrorType.ArcGISAuthError:\n *     // handle an authentication error\n *     break;\n *\n *     default:\n *     // handle some other error (usually a network error)\n *   }\n * });\n * ```\n */\nexport var ErrorTypes;\n(function (ErrorTypes) {\n    ErrorTypes[\"ArcGISRequestError\"] = \"ArcGISRequestError\";\n    ErrorTypes[\"ArcGISAuthError\"] = \"ArcGISAuthError\";\n})(ErrorTypes || (ErrorTypes = {}));\n//# sourceMappingURL=ErrorTypes.js.map","/* Copyright (c) 2018-2019 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nexport * from \"./request\";\nexport * from \"./utils/append-custom-params\";\nexport * from \"./utils/ArcGISRequestError\";\nexport * from \"./utils/ArcGISAuthError\";\nexport * from \"./utils/check-for-errors\";\nexport * from \"./utils/clean-url\";\nexport * from \"./utils/encode-form-data\";\nexport * from \"./utils/encode-query-string\";\nexport * from \"./utils/ErrorTypes\";\nexport * from \"./utils/process-params\";\nexport * from \"./utils/warn\";\n//# sourceMappingURL=index.js.map","/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { getFeature } from '@esri/arcgis-rest-feature-layer';\n * //\n * const url = \"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Landscape_Trees/FeatureServer/0\";\n * //\n * getFeature({\n *   url,\n *   id: 42\n * }).then(feature => {\n *  console.log(feature.attributes.FID); // 42\n * });\n * ```\n * Get a feature by id.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the feature or the [response](https://developer.mozilla.org/en-US/docs/Web/API/Response) itself if `rawResponse: true` was passed in.\n */\nexport function getFeature(requestOptions) {\n    var url = cleanUrl(requestOptions.url) + \"/\" + requestOptions.id;\n    // default to a GET request\n    var options = tslib_1.__assign({ httpMethod: \"GET\" }, requestOptions);\n    return request(url, options).then(function (response) {\n        if (options.rawResponse) {\n            return response;\n        }\n        return response.feature;\n    });\n}\n/**\n * ```js\n * import { queryFeatures } from '@esri/arcgis-rest-feature-layer';\n * //\n * queryFeatures({\n *   url: \"http://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer/3\",\n *   where: \"STATE_NAME = 'Alaska'\"\n * })\n *   .then(result)\n * ```\n * Query a feature service. See [REST Documentation](https://developers.arcgis.com/rest/services-reference/query-feature-service-layer-.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the query response.\n */\nexport function queryFeatures(requestOptions) {\n    var queryOptions = appendCustomParams(requestOptions, [\n        \"where\",\n        \"objectIds\",\n        \"relationParam\",\n        \"time\",\n        \"distance\",\n        \"units\",\n        \"outFields\",\n        \"returnGeometry\",\n        \"maxAllowableOffset\",\n        \"geometryPrecision\",\n        \"outSR\",\n        \"gdbVersion\",\n        \"returnDistinctValues\",\n        \"returnIdsOnly\",\n        \"returnCountOnly\",\n        \"returnExtentOnly\",\n        \"orderByFields\",\n        \"groupByFieldsForStatistics\",\n        \"outStatistics\",\n        \"returnZ\",\n        \"returnM\",\n        \"multipatchOption\",\n        \"resultOffset\",\n        \"resultRecordCount\",\n        \"quantizationParameters\",\n        \"returnCentroid\",\n        \"resultType\",\n        \"historicMoment\",\n        \"returnTrueCurves\",\n        \"sqlFormat\",\n        \"returnExceededLimitFeatures\"\n    ], {\n        httpMethod: \"GET\",\n        params: tslib_1.__assign({ \n            // set default query parameters\n            where: \"1=1\", outFields: \"*\" }, requestOptions.params)\n    });\n    return request(cleanUrl(requestOptions.url) + \"/query\", queryOptions);\n}\n//# sourceMappingURL=query.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { addFeatures } from '@esri/arcgis-rest-feature-layer';\n * //\n * addFeatures({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   features: [{\n *     geometry: { x: -120, y: 45, spatialReference: { wkid: 4326 } },\n *     attributes: { status: \"alive\" }\n *   }]\n * })\n *   .then(response)\n * ```\n * Add features request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/add-features.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the addFeatures response.\n */\nexport function addFeatures(requestOptions) {\n    var url = cleanUrl(requestOptions.url) + \"/addFeatures\";\n    // edit operations are POST only\n    var options = appendCustomParams(requestOptions, [\"features\", \"gdbVersion\", \"returnEditMoment\", \"rollbackOnFailure\"], { params: tslib_1.__assign({}, requestOptions.params) });\n    return request(url, options);\n}\n//# sourceMappingURL=add.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n/**\n *\n * ```js\n * import { updateFeatures } from '@esri/arcgis-rest-feature-layer';\n * //\n * updateFeatures({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   features: [{\n *     geometry: { x: -120, y: 45, spatialReference: { wkid: 4326 } },\n *     attributes: { status: \"alive\" }\n *   }]\n * });\n * ```\n * Update features request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/update-features.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the updateFeatures response.\n */\nexport function updateFeatures(requestOptions) {\n    var url = cleanUrl(requestOptions.url) + \"/updateFeatures\";\n    // edit operations are POST only\n    var options = appendCustomParams(requestOptions, [\"features\", \"gdbVersion\", \"returnEditMoment\", \"rollbackOnFailure\"], { params: tslib_1.__assign({}, requestOptions.params) });\n    return request(url, options);\n}\n//# sourceMappingURL=update.js.map","/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { deleteFeatures } from '@esri/arcgis-rest-feature-layer';\n * //\n * deleteFeatures({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   objectIds: [1,2,3]\n * });\n * ```\n * Delete features request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/delete-features.htm) for more information.\n *\n * @param deleteFeaturesRequestOptions - Options for the request.\n * @returns A Promise that will resolve with the deleteFeatures response.\n */\nexport function deleteFeatures(requestOptions) {\n    var url = cleanUrl(requestOptions.url) + \"/deleteFeatures\";\n    // edit operations POST only\n    var options = appendCustomParams(requestOptions, [\n        \"where\",\n        \"objectIds\",\n        \"gdbVersion\",\n        \"returnEditMoment\",\n        \"rollbackOnFailure\"\n    ], { params: tslib_1.__assign({}, requestOptions.params) });\n    return request(url, options);\n}\n//# sourceMappingURL=delete.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { getAttachments } from '@esri/arcgis-rest-feature-layer';\n * //\n * getAttachments({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484\n * });\n * ```\n * Request `attachmentInfos` of a feature by id. See [Attachment Infos](https://developers.arcgis.com/rest/services-reference/attachment-infos-feature-service-.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `getAttachments()` response.\n */\nexport function getAttachments(requestOptions) {\n    // pass through\n    return request(cleanUrl(requestOptions.url) + \"/\" + requestOptions.featureId + \"/attachments\", requestOptions);\n}\n//# sourceMappingURL=getAttachments.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { addAttachment } from '@esri/arcgis-rest-feature-layer';\n * //\n * addAttachment({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484,\n *   attachment: myFileInput.files[0]\n * })\n *   .then(response)\n * ```\n * Attach a file to a feature by id. See [Add Attachment](https://developers.arcgis.com/rest/services-reference/add-attachment.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `addAttachment()` response.\n */\nexport function addAttachment(requestOptions) {\n    var options = tslib_1.__assign({ params: {} }, requestOptions);\n    // `attachment` --> params: {}\n    options.params.attachment = requestOptions.attachment;\n    return request(cleanUrl(options.url) + \"/\" + options.featureId + \"/addAttachment\", options);\n}\n//# sourceMappingURL=addAttachment.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n *\n * ```js\n * import { updateAttachment } from '@esri/arcgis-rest-feature-layer';\n * //\n * updateAttachment({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484,\n *   attachment: myFileInput.files[0],\n *   attachmentId: 306\n * });\n * ```\n * Update a related attachment to a feature by id. See [Update Attachment](https://developers.arcgis.com/rest/services-reference/update-attachment.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `updateAttachment()` response.\n */\nexport function updateAttachment(requestOptions) {\n    var options = tslib_1.__assign({ params: {} }, requestOptions);\n    // `attachment` and `attachmentId` --> params: {}\n    options.params.attachment = requestOptions.attachment;\n    options.params.attachmentId = requestOptions.attachmentId;\n    return request(cleanUrl(options.url) + \"/\" + options.featureId + \"/updateAttachment\", options);\n}\n//# sourceMappingURL=updateAttachment.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { deleteAttachments } from '@esri/arcgis-rest-feature-layer';\n * //\n * deleteAttachments({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484,\n *   attachmentIds: [306]\n * });\n * ```\n * Delete existing attachment files of a feature by id. See [Delete Attachments](https://developers.arcgis.com/rest/services-reference/delete-attachments.htm) for more information.\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `deleteAttachments()` response.\n */\nexport function deleteAttachments(requestOptions) {\n    var options = tslib_1.__assign({ params: {} }, requestOptions);\n    // `attachmentIds` --> params: {}\n    options.params.attachmentIds = requestOptions.attachmentIds;\n    return request(cleanUrl(options.url) + \"/\" + options.featureId + \"/deleteAttachments\", options);\n}\n//# sourceMappingURL=deleteAttachments.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { request, cleanUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n/**\n *\n * ```js\n * import { queryRelated } from '@esri/arcgis-rest-feature-layer'\n * //\n * queryRelated({\n *  url: \"http://services.myserver/OrgID/ArcGIS/rest/services/Petroleum/KSPetro/FeatureServer/0\",\n *  relationshipId: 1,\n *  params: { returnCountOnly: true }\n * })\n *  .then(response) // response.relatedRecords\n * ```\n * Query the related records for a feature service. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/query-related-records-feature-service-.htm) for more information.\n *\n * @param requestOptions\n * @returns A Promise that will resolve with the query response\n */\nexport function queryRelated(requestOptions) {\n    var options = appendCustomParams(requestOptions, [\"objectIds\", \"relationshipId\", \"definitionExpression\", \"outFields\"], {\n        httpMethod: \"GET\",\n        params: tslib_1.__assign({ \n            // set default query parameters\n            definitionExpression: \"1=1\", outFields: \"*\", relationshipId: 0 }, requestOptions.params)\n    });\n    return request(cleanUrl(requestOptions.url) + \"/queryRelatedRecords\", options);\n}\n//# sourceMappingURL=queryRelated.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\n/**\n * ```js\n * import { getLayer } from '@esri/arcgis-rest-feature-layer';\n * //\n * getLayer({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\"\n * })\n *   .then(response) // { name: \"311\", id: 0, ... }\n * ```\n * Layer (Feature Service) request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/layer-feature-service-.htm) for more information.\n *\n * @param options - Options for the request.\n * @returns A Promise that will resolve with the addFeatures response.\n */\nexport function getLayer(options) {\n    return request(cleanUrl(options.url), options);\n}\n//# sourceMappingURL=getLayer.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport * as tslib_1 from \"tslib\";\nimport { getLayer } from \"./getLayer\";\n/**\n * ```js\n * import { queryFeatures, decodeValues } from '@esri/arcgis-rest-feature-layer';\n * //\n * const url = `https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0`\n * queryFeatures({ url })\n *   .then(queryResponse => {\n *     decodeValues({\n *       url,\n *       queryResponse\n *     })\n *       .then(decodedResponse)\n *   })\n * ```\n * Replaces the raw coded domain values in a query response with descriptions (for legibility).\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the addFeatures response.\n */\nexport function decodeValues(requestOptions) {\n    return new Promise(function (resolve) {\n        if (!requestOptions.fields) {\n            return getLayer({ url: requestOptions.url }).then(function (metadata) {\n                resolve((requestOptions.fields = metadata.fields));\n            });\n        }\n        else {\n            resolve(requestOptions.fields);\n        }\n    }).then(function (fields) {\n        // extract coded value domains\n        var domains = extractCodedValueDomains(fields);\n        if (Object.keys(domains).length < 1) {\n            // no values to decode\n            return requestOptions.queryResponse;\n        }\n        // don't mutate original features\n        var decodedFeatures = requestOptions.queryResponse.features.map(function (feature) {\n            var decodedAttributes = {};\n            for (var key in feature.attributes) {\n                /* istanbul ignore next */\n                if (!feature.attributes.hasOwnProperty(key))\n                    continue;\n                var value = feature.attributes[key];\n                var domain = domains[key];\n                decodedAttributes[key] =\n                    value !== null && domain ? decodeValue(value, domain) : value;\n            }\n            // merge decoded attributes into the feature\n            return tslib_1.__assign({}, feature, { attributes: decodedAttributes });\n        });\n        // merge decoded features into the response\n        return tslib_1.__assign({}, requestOptions.queryResponse, { features: decodedFeatures });\n    });\n}\nfunction extractCodedValueDomains(fields) {\n    return fields.reduce(function (domains, field) {\n        var domain = field.domain;\n        if (domain && domain.type === \"codedValue\") {\n            domains[field.name] = domain;\n        }\n        return domains;\n    }, {});\n}\n// TODO: add type for domain?\nfunction decodeValue(value, domain) {\n    var codedValue = domain.codedValues.find(function (d) {\n        return value === d.code;\n    });\n    return codedValue ? codedValue.name : value;\n}\n//# sourceMappingURL=decodeValues.js.map","/* Copyright (c) 2018-2019 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nexport * from \"./query\";\nexport * from \"./add\";\nexport * from \"./update\";\nexport * from \"./delete\";\nexport * from \"./getAttachments\";\nexport * from \"./addAttachment\";\nexport * from \"./updateAttachment\";\nexport * from \"./deleteAttachments\";\nexport * from \"./queryRelated\";\nexport * from \"./getLayer\";\nexport * from \"./decodeValues\";\n//# sourceMappingURL=index.js.map","export default {\n    fetch: undefined\n};\n//# sourceMappingURL=config.js.map","export function defaultQuery() {\n    return {\n        where: '1=1',\n        returnGeometry: false,\n        returnDistinctValues: false,\n        returnIdsOnly: false,\n        returnCountOnly: false,\n        outFields: '*',\n        sqlFormat: 'standard',\n        f: 'json'\n    };\n}\nexport function createQueryParams(query) {\n    if (query === void 0) { query = {}; }\n    // start w/ default query params\n    var queryParams = defaultQuery();\n    // Handle bbox\n    if (query.bbox) {\n        // make sure a geometry was not also passed in\n        if (query.geometry) {\n            throw new Error('Dataset.query can not have both a geometry and a bbox specified');\n        }\n        // Get the bbox (w,s,e,n)\n        var bboxArr = query.bbox.split(',');\n        // Remove it so it's not serialized as-is\n        delete query.bbox;\n        // cook it into a json string\n        query.geometry = JSON.stringify({\n            xmin: Number(bboxArr[0]),\n            ymin: Number(bboxArr[1]),\n            xmax: Number(bboxArr[2]),\n            ymax: Number(bboxArr[3])\n        });\n        // set spatial ref as geographic\n        query.inSR = '4326';\n    }\n    // override defaults w/ params that were passed in\n    Object.keys(query).reduce(function (params, key) {\n        var param = query[key];\n        queryParams[key] = typeof param === 'object' ? JSON.stringify(param) : param;\n        return params;\n    }, queryParams);\n    return queryParams;\n}\n//# sourceMappingURL=url.js.map","import { decodeValues, queryFeatures } from '@esri/arcgis-rest-feature-layer';\nimport config from '../config';\nimport { createQueryParams } from './url';\nexport function queryDatasets(datasets) {\n    var names = [];\n    var requests = [];\n    if (datasets) {\n        datasets.forEach(function (dataset, i) {\n            // only query datasets that don't have inline data\n            if (dataset.url) {\n                // TODO: make name required on datasets, or required if > 1 dataset?\n                names.push(dataset.name || \"dataset\" + i);\n                var queryParams = createQueryParams(dataset.query);\n                var options_1 = {\n                    url: dataset.url,\n                    params: queryParams\n                };\n                if (config.fetch && typeof config.fetch === 'function') {\n                    // we are configured to use a custom fetch implementation\n                    // send that along to rest-js\n                    options_1.fetch = config.fetch;\n                }\n                requests.push(queryFeatures(options_1)\n                    .then(function (queryResponse) {\n                    var domains = dataset.domains;\n                    var fields = domains && Object.keys(domains).map(function (name) { return ({ name: name, domain: domains[name] }); });\n                    // for now, we only decode CVDs when an array of fields is passed describing codes and names\n                    if (fields && fields.length > 0) {\n                        var decodeOptions = {\n                            url: options_1.url,\n                            queryResponse: queryResponse,\n                            // TODO: decodeValues() should take `domains?: IDomains` as an alternative to `fields?: IField[]`\n                            fields: fields,\n                            fetch: config.fetch\n                        };\n                        return decodeValues(decodeOptions);\n                    }\n                    else {\n                        return queryResponse;\n                    }\n                }));\n            }\n        });\n    }\n    return Promise.all(requests)\n        .then(function (responses) {\n        // turn the array of responses into a hash keyed off the dataset names\n        var responseHash = responses.reduce(function (hash, response, i) {\n            hash[names[i]] = response;\n            return hash;\n        }, {});\n        return Promise.resolve(responseHash);\n    });\n}\n//# sourceMappingURL=query.js.map","import { cedarAmCharts } from '@esri/cedar-amcharts';\nimport { getChartData } from './dataset';\nimport { queryDatasets } from './query/query';\nfunction clone(json) {\n    return JSON.parse(JSON.stringify(json));\n}\n/**\n * An instance of a cedar chart that will be rendered at a given DOM node (container) based on a [definition](../interfaces/idefinition.html).\n * ```js\n *   // initialize the chart\n *   var chart = new Chart(elementId, definition);\n *   // fetch chart data and render the chart\n *   chart.show();\n * ```\n */\nvar Chart = /** @class */ (function () {\n    /**\n     *\n     * @param container The DOM node where the chart will be rendered\n     * @param definition Defines how the data will be rendered in the chart\n     */\n    function Chart(container, definition) {\n        if (!container) {\n            throw new Error('A container is required');\n        }\n        this._container = container;\n        if (definition) {\n            // set the definition\n            this.definition(clone(definition));\n        }\n    }\n    Chart.prototype.definition = function (newDefinition) {\n        if (newDefinition === undefined) {\n            return this._definition;\n        }\n        else {\n            this._definition = newDefinition;\n            return this;\n        }\n    };\n    Chart.prototype.datasets = function (newDatasets) {\n        return this._definitionAccessor('datasets', newDatasets);\n    };\n    Chart.prototype.series = function (newSeries) {\n        return this._definitionAccessor('series', newSeries);\n    };\n    Chart.prototype.type = function (newType) {\n        return this._definitionAccessor('type', newType);\n    };\n    Chart.prototype.specification = function (newSpecification) {\n        return this._definitionAccessor('specification', newSpecification);\n    };\n    Chart.prototype.overrides = function (newOverrides) {\n        return this._definitionAccessor('overrides', newOverrides);\n    };\n    Chart.prototype.legend = function (newLegend) {\n        return this._definitionAccessor('legend', newLegend);\n    };\n    /**\n     * Get the chart's styles\n     */\n    Chart.prototype.style = function (newStyle) {\n        return this._definitionAccessor('style', newStyle);\n    };\n    /**\n     * Get the internal copy of the data used to render the chart\n     */\n    Chart.prototype.data = function () {\n        return this._data;\n    };\n    /**\n     * Get a dataset from the definition by name\n     * @param datasetName The name of the dataset to get\n     */\n    Chart.prototype.dataset = function (datasetName) {\n        var datasets = this.datasets();\n        var match;\n        if (datasets) {\n            datasets.some(function (dataset) {\n                if (dataset.name === datasetName) {\n                    match = dataset;\n                    return true;\n                }\n            });\n        }\n        return match;\n    };\n    /**\n     * Query data for all non-inline datasets\n     */\n    Chart.prototype.query = function () {\n        return queryDatasets(this.datasets());\n    };\n    // update chart from inline data and query responses\n    Chart.prototype.updateData = function (datasetsData) {\n        var datasets = this.datasets();\n        var options = {\n            datasetsData: datasetsData,\n            series: this.series()\n        };\n        this._data = getChartData(datasets, options);\n        return this;\n    };\n    /**\n     * Re-draw the chart based on the current data and definition\n     */\n    Chart.prototype.render = function () {\n        cedarAmCharts(this._container, this.definition(), this.data());\n        return this;\n    };\n    /**\n     * Execute the query(), updateData(), and render() functions\n     */\n    Chart.prototype.show = function () {\n        var _this = this;\n        return this.query()\n            .then(function (response) {\n            return _this.updateData(response).render();\n        });\n    };\n    // implementation for all setters/getters for definition properties\n    Chart.prototype._definitionAccessor = function (propertyName, newPropertyValue) {\n        var definition = this._definition;\n        if (newPropertyValue === undefined) {\n            return definition ? definition[propertyName] : undefined;\n        }\n        else {\n            if (definition) {\n                definition[propertyName] = newPropertyValue;\n                return this;\n            }\n            else {\n                var newDefinition = {};\n                newDefinition[propertyName] = newPropertyValue;\n                return this.definition(newDefinition);\n            }\n        }\n    };\n    return Chart;\n}());\nexport { Chart };\n//# sourceMappingURL=Chart.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nexport * from './Chart';\nexport * from './config';\n//# sourceMappingURL=index.js.map"],"names":["merge","tslib_1.__extends","tslib_1.__assign","clone"],"mappings":"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"}