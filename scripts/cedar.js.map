{"version":3,"file":"cedar.js","sources":["../../../../node_modules/deepmerge/dist/es.js","../../../cedar-amcharts/dist/esm/specs/area.js","../../../cedar-amcharts/dist/esm/specs/bar.js","../../../cedar-amcharts/dist/esm/specs/bar-horizontal.js","../../../cedar-amcharts/dist/esm/specs/line.js","../../../cedar-amcharts/dist/esm/specs/pie.js","../../../cedar-amcharts/dist/esm/specs/radar.js","../../../cedar-amcharts/dist/esm/specs/scatter.js","../../../cedar-amcharts/dist/esm/specs/timeline.js","../../../cedar-amcharts/dist/esm/specs/specs.js","../../../cedar-amcharts/dist/esm/render/render.js","../../../cedar-amcharts/dist/esm/index.js","../esm/dataset.js","../esm/config.js","../esm/query/url.js","../esm/query/query.js","../esm/Chart.js","../esm/index.js"],"sourcesContent":["var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true;\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice();\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument);\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument);\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument));\n        }\n    });\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {};\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function(key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument);\n        });\n    }\n    Object.keys(source).forEach(function(key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument);\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument);\n        }\n    });\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var sourceIsArray = Array.isArray(source);\n    var targetIsArray = Array.isArray(target);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge };\n    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n    if (!sourceAndTargetTypesMatch) {\n        return cloneIfNecessary(source, optionsArgument)\n    } else if (sourceIsArray) {\n        var arrayMerge = options.arrayMerge || defaultArrayMerge;\n        return arrayMerge(target, source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","var area = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0.5,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true,\n        markerSize: 10\n    },\n    valueAxes: [{\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default area;\n//# sourceMappingURL=area.js.map","export var bar = {\n    type: 'serial',\n    rotate: false,\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false\n    },\n    graphs: [{\n            type: 'column',\n            newStack: true\n        }],\n    legend: {\n        valueAlign: 'left',\n        spacing: 25\n    },\n    valueAxes: [{\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default bar;\n//# sourceMappingURL=bar.js.map","export var barHorizontal = {\n    type: 'serial',\n    theme: 'calcite',\n    rotate: true,\n    chartCursor: {\n        leaveCursor: true,\n        valueLineEnabled: true,\n        categoryBalloonEnabled: false\n    },\n    graphs: [{\n            type: 'column',\n        }],\n    legend: {},\n    valueAxes: [{\n            gridAlpha: 0.2,\n            stackType: 'regular'\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default barHorizontal;\n//# sourceMappingURL=bar-horizontal.js.map","var line = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            // bulletColor: '#FFFFFF',\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        // horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default line;\n//# sourceMappingURL=line.js.map","var pie = {\n    type: 'pie',\n    theme: 'calcite',\n    innerRadius: '0%',\n    startDuration: 0,\n    graphs: [{}],\n    groupPercent: 5,\n    balloon: {\n        fixedPosition: true\n    },\n    legend: {\n        enabled: false\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default pie;\n//# sourceMappingURL=pie.js.map","var radar = {\n    type: 'radar',\n    valueAxes: [{\n            gridType: 'circles',\n            minimum: 0\n        }],\n    polarScatter: {\n        minimum: 0,\n        maximum: 400,\n        step: 1\n    },\n    startDuration: 0,\n    graphs: [{ graphFillAlpha: 0 }],\n    groupPercent: 5,\n    balloon: {\n        fixedPosition: true\n    },\n    legend: {\n        position: 'right',\n        marginRight: 100,\n        autoMargins: false\n    },\n};\nexport default radar;\n//# sourceMappingURL=radar.js.map","var scatter = {\n    type: 'xy',\n    theme: 'calcite',\n    valueAxes: [{\n            axisAlpha: 0.8,\n            gridAlpha: 0.2,\n            position: 'bottom',\n        }, {\n            axisAlpha: 0.8,\n            gridAlpha: 0.2,\n            position: 'left'\n        }],\n    chartScrollbar: {\n        scrollbarHeight: 5,\n        offset: -1,\n        backgroundAlpha: 0.1,\n        backgroundColor: '#888888',\n        selectedBackgroundColor: '#67b7dc',\n        selectedBackgroundAlpha: 1,\n        dragIconWidth: 15,\n        dragIconHeight: 15,\n    },\n    chartCursor: {\n        categoryBalloonEnabled: true,\n        cursorAlpha: 0.3,\n        valueLineAlpha: 0.3,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            fillAlphas: 0,\n            lineAlpha: 0,\n            bullet: 'circle',\n            bulletBorderAlpha: 0.2,\n            bulletAlpha: 0.8,\n            valueField: null,\n            xField: null,\n            yField: null,\n        }],\n    export: {\n        enabled: true\n    }\n};\nexport default scatter;\n//# sourceMappingURL=scatter.js.map","var timeline = {\n    type: 'serial',\n    theme: 'calcite',\n    chartCursor: {\n        categoryBalloonEnabled: false,\n        valueLineBalloonEnabled: true\n    },\n    graphs: [{\n            bullet: 'circle',\n            bulletAlpha: 1,\n            bulletBorderAlpha: 0.8,\n            bulletBorderThickness: 0,\n            // bulletColor: '#FFFFFF',\n            dashLengthField: 'dashLengthLine',\n            fillAlphas: 0,\n            useLineColorForBulletBorder: true\n        }],\n    legend: {\n        // horizontalGap: 10,\n        position: 'bottom',\n        useGraphSettings: true\n    },\n    categoryAxis: {\n        parseDates: true\n    },\n    export: {\n        enabled: true\n    }\n};\nexport default timeline;\n//# sourceMappingURL=timeline.js.map","import area from './area';\nimport bar from './bar';\nimport barHorizontal from './bar-horizontal';\nimport line from './line';\nimport pie from './pie';\nimport radar from './radar';\nimport scatter from './scatter';\nimport timeline from './timeline';\nvar specs = {\n    bar: bar,\n    'bar-horizontal': barHorizontal,\n    line: line,\n    area: area,\n    pie: pie,\n    radar: radar,\n    scatter: scatter,\n    timeline: timeline\n};\nexport default specs;\n//# sourceMappingURL=specs.js.map","import merge from 'deepmerge';\nimport specs from '../specs/specs';\n// TODO: how to have access to IDefinition\nexport function renderChart(elementId, definition, data) {\n    if (definition.type === 'custom') {\n        var chart_1 = AmCharts.makeChart(elementId, definition.specification);\n        return chart_1;\n    }\n    // Clone/copy spec and data\n    // Longer than normal conditional so setting as its own const\n    var hasSpecAndIsntString = definition.specification && typeof definition.specification !== 'string';\n    // ternary checking to see if there is a def.spec and that it is NOT a string (url)\n    // if true than return def.spec. If not true than fetch a premade spec\n    var spec = hasSpecAndIsntString ? clone(definition.specification) : fetchSpec(definition.type);\n    var copyData = clone(data);\n    // Set the spec's data\n    spec.dataProvider = copyData;\n    // Apply the series\n    if (!!definition.datasets) {\n        spec = fillInSpec(spec, definition);\n    }\n    // Apply overrides\n    if (definition.overrides) {\n        // NOTE: this counts on using deepmerge < 2.x\n        // see: https://github.com/KyleAMathews/deepmerge#arraymerge\n        spec = merge(spec, definition.overrides, { clone: true });\n    }\n    var chart = AmCharts.makeChart(elementId, spec);\n    // If it is a pie chart\n    if (definition.type === 'pie') {\n        // Set pie chart balloonText\n        chart.balloonText = getPieBalloonText(definition);\n    }\n    return chart;\n}\nfunction getPieBalloonText(definition) {\n    // Set label based on whether or not there actually is a category label\n    var categoryLabel = !!definition.series[0].category.label ? definition.series[0].category.label + \": \" : '';\n    // Set label based on whether or not there actually is a value label\n    var valueLabel = !!definition.series[0].value.label ? definition.series[0].value.label + \": \" : '';\n    // return balloonText\n    return \"<div>\" + categoryLabel + \"[[title]]</div><div>\" + valueLabel + \"[[percents]]% ([[value]])</div>\";\n}\nexport function fillInSpec(spec, definition) {\n    // Grab the graphSpec from the spec\n    var graphSpec = spec.graphs.pop();\n    var isJoined = definition.datasets.length > 1;\n    // category field will be 'categoryField' in the case of joined datasets\n    // otherwise get it from the first series\n    spec.categoryField = isJoined ? 'categoryField' : definition.series[0].category.field;\n    // Add a legend in case it's not on the spec\n    if (!spec.legend) {\n        spec.legend = {};\n    }\n    // TODO This is needed as 'legend.enable' has been renamed 'legend.visible'. We are only introducing\n    // breaking changes on major releases.\n    // Remove the line below on next breaking change\n    /* istanbul ignore next since we're going to remove this */\n    if (definition.legend && definition.legend.hasOwnProperty('enable')) {\n        definition.legend.visible = definition.legend.enable;\n    }\n    // adjust legend and axis labels for single series charts\n    if (definition.series.length === 1 && (definition.type !== 'pie' && definition.type !== 'radar')) {\n        // don't show legend by default for single series charts\n        spec.legend.enabled = false;\n        // get default axis labels from series\n        var categoryAxisTitle_1 = definition.series[0].category.label;\n        var valueAxisTitle_1 = definition.series[0].value.label;\n        if (spec.type === 'xy' && Array.isArray(spec.valueAxes)) {\n            // for xy charts we treat the x axis as the category axis\n            // and the y axis as the value axis\n            spec.valueAxes.forEach(function (axis) {\n                /* istanbul ignore else since we can only be smart about bottom/left axis labels */\n                if (axis.position === 'bottom') {\n                    axis.title = categoryAxisTitle_1;\n                }\n                else if (axis.position === 'left') {\n                    axis.title = valueAxisTitle_1;\n                }\n            });\n        }\n        else {\n            // line/area specs don't define axes\n            if (!spec.valueAxes) {\n                spec.valueAxes = [{}];\n            }\n            spec.valueAxes[0].title = definition.series[0].value.label;\n            spec.valueAxes[0].position = 'left';\n            /* istanbul ignore else until we have a test for a timeline definition/spec */\n            if (!spec.categoryAxis) {\n                spec.categoryAxis = {};\n            }\n            spec.categoryAxis.title = categoryAxisTitle_1;\n        }\n    }\n    // Handle Legend in case.\n    if (definition.legend) {\n        var legend = definition.legend;\n        var supportedLegendPositions = ['top', 'bottom', 'left', 'right'];\n        if (legend.hasOwnProperty('visible')) {\n            spec.legend.enabled = legend.visible;\n        }\n        if (legend.position && supportedLegendPositions.indexOf(legend.position) > -1) {\n            spec.legend.position = legend.position;\n        }\n    }\n    // Handle styles...\n    /* istanbul ignore if */\n    if (definition.style) {\n        // snag out style\n        var style = definition.style;\n        // handle margins\n        /* istanbul ignore if */\n        if (style.padding) {\n            var padding = style.padding;\n            // Assume we need to set auto margins false\n            spec.autoMargins = false;\n            if (padding.hasOwnProperty('top')) {\n                spec.marginTop = padding.top;\n            }\n            if (padding.hasOwnProperty('bottom')) {\n                spec.marginBottom = padding.bottom;\n            }\n            if (padding.hasOwnProperty('left')) {\n                spec.marginLeft = padding.left;\n            }\n            if (padding.hasOwnProperty('right')) {\n                spec.marginRight = padding.right;\n            }\n        }\n        // If there is a pie property\n        /* istanbul ignore if */\n        if (style.pie) {\n            var pie = style.pie;\n            // A range from 0 - n where n is the inner radius of the pie chart. Anything above a 0\n            // turns the chart into a donut chart. Can be a number for pixels or a percent.\n            if (pie.hasOwnProperty('innerRadius')) {\n                spec.innerRadius = pie.innerRadius;\n            }\n            // How far a pie chart slice will pull out when selected. Can be a number for pixels or a percent\n            if (pie.hasOwnProperty('expand')) {\n                spec.pullOutRadius = pie.expand;\n            }\n        }\n        if (style.colors && Array.isArray(style.colors)) {\n            spec.colors = style.colors;\n        }\n    }\n    // Iterate over datasets\n    definition.datasets.forEach(function (dataset, d) {\n        var datasetName = dataset.name;\n        // For each dataset iterate over series\n        definition.series.forEach(function (series, s) {\n            if (dataset.name === series.source) {\n                var graph = clone(graphSpec);\n                // use the value field label for the graph's title\n                graph.title = series.value.label;\n                // value field will contain dataset name if joined\n                graph.valueField = isJoined ? datasetName + \"_\" + series.value.field : series.value.field;\n                // TODO: map other fields besides value like color, size, etc\n                // tooltip\n                graph.balloonText = \"<div>\" + series.category.label + \": [[\" + spec.categoryField + \"]]</div><div>\" + graph.title + \": [[\" + graph.valueField + \"]]</div>\";\n                // Group vs. stack\n                if (!!series.stack && graph.newStack) {\n                    graph.newStack = false;\n                }\n                // special props for pie charts\n                if (definition.type === 'pie') {\n                    spec.titleField = spec.categoryField;\n                    spec.valueField = graph.valueField;\n                }\n                // special props for x/y types (scatter, bubble)\n                if (spec.type === 'xy' && !!series.category && !!series.value) {\n                    graph.xField = series.category.field;\n                    graph.yField = series.value.field;\n                    graph.balloonText = \"<div>\" + series.category.label + \": [[\" + series.category.field + \"]]</div><div>\" + series.value.label + \": [[\" + series.value.field + \"]]</div>\";\n                    // bubble\n                    if (spec.type === 'xy' && series.size) {\n                        graph.valueField = series.size.field;\n                        graph.balloonText = graph.balloonText + \"<div>\" + series.size.label + \": [[\" + graph.valueField + \"]]</div>\";\n                    }\n                    else {\n                        delete graph.valueField;\n                    }\n                }\n                spec.graphs.push(graph);\n            }\n        });\n    });\n    return spec;\n}\nexport function fetchSpec(type) {\n    var spec = type;\n    if (spec === 'time') {\n        console.warn(\"'time' is no longer a supported type. Please use 'timeline' instead\");\n        spec = 'timeline';\n    }\n    else if (spec === 'bubble') {\n        console.warn(\"'bubble' is no longer a supported type. Please use 'scatter' instead\");\n        spec = 'scatter';\n    }\n    else if (spec === 'grouped') {\n        console.warn(\"'grouped' is no longer a supported type. Please use 'bar' instead\");\n        spec = 'bar';\n    }\n    return clone(specs[spec]);\n}\nfunction clone(json) {\n    return JSON.parse(JSON.stringify(json));\n}\n// TODO: remove\nvar render = {\n    renderChart: renderChart,\n    fillInSpec: fillInSpec,\n    fetchSpec: fetchSpec\n};\nexport default render;\n//# sourceMappingURL=render.js.map","import render from './render/render';\nexport function cedarAmCharts(elementId, definition, data) {\n    if ((!elementId || !definition || !data) && (definition.type && definition.type !== 'custom')) {\n        var err = new Error('Element Id, definition, and data are all required.');\n        throw err;\n    }\n    if (definition.type && definition.type === 'custom') {\n        return render.renderChart(elementId, definition);\n    }\n    return render.renderChart(elementId, definition, data);\n}\nexport default cedarAmCharts;\n//# sourceMappingURL=index.js.map","// if it's a feature set, return the array of features\n// otherwise just return the array of objects that was passed in\nfunction getFeatures(data) {\n    return data.features ? data.features : data;\n}\n// if it's a feature, return the attributes\n// otherwise return the entire object that was passed in\nfunction getAttributes(row) {\n    /* istanbul ignore else since that only happens when features are mixed with rows */\n    if (row.attributes) {\n        return row.attributes;\n    }\n    else {\n        return row;\n    }\n}\n// get an array of value field names from a dataset's series\nfunction getDatasetValueFields(datasetName, series) {\n    return series.reduce(function (fields, s) {\n        if (s.source === datasetName && s.value) {\n            fields.push(s.value.field);\n        }\n        return fields;\n    }, []);\n}\n// get a unique field (property) name for a dataset/value field\nfunction getDatasetValueFieldName(datasetName, valueField) {\n    return datasetName + \"_\" + valueField;\n}\nfunction getDatasetData(dataset, datasetsData, name) {\n    var datasetName = dataset.name || name;\n    return dataset.data || datasetsData[datasetName];\n}\n// if data is a feature set or array of features\n// return only the attributes for each feature\nfunction flattenData(data) {\n    var features = getFeatures(data);\n    if (features.length > 0 && features[0].attributes) {\n        // these really are features, flatten them before\n        return features.map(getAttributes);\n    }\n    else {\n        // assume this is an array of objects and don't\n        return features;\n    }\n}\n// join data from multiple datasets into a single table\nfunction joinData(datasets, series, datasetsData) {\n    // first build a hash whose keys for each of the\n    // unique values in the join columns of the datasets\n    // and the value of each is a row with the joined values\n    var hashTable = datasets.reduce(function (index, dataset, i) {\n        // get the attribute that this dataset will be joined on\n        var joinKey = dataset.join;\n        // TODO: what if no joinKey, throw error? skip this dataset?\n        // if dataset doesn't have inline data use data that was passed in\n        var datasetData = getDatasetData(dataset, datasetsData);\n        // TODO: what if no datasetData, throw error? skip this dataset?\n        // get the value fields for this dataset from it's series\n        var datasetName = dataset.name;\n        var valueFields = getDatasetValueFields(datasetName, series);\n        // TODO: what if no valueFields, throw error? skip this dataset?\n        getFeatures(datasetData).forEach(function (feature) {\n            // get the value of the column that this dataset should be joined on\n            var attrs = getAttributes(feature);\n            var joinValue = attrs[joinKey];\n            // start a new row for this value if there isn't one already\n            if (index[joinValue] === undefined) {\n                // use this value for the categoryField\n                index[joinValue] = { categoryField: joinValue };\n            }\n            // get the remaining values for this row\n            valueFields.reduce(function (row, valueField) {\n                // add a property to the row for this dataset and value field\n                row[getDatasetValueFieldName(datasetName, valueField)] = attrs[valueField];\n                // valueFields.splice(i, 1)\n                return row;\n            }, index[joinValue]);\n        });\n        return index;\n    }, {});\n    // return the rows of joined values from the hash table\n    return Object.keys(hashTable).map(function (key) { return hashTable[key]; });\n}\n// flatten data from all datasets into a single table\nexport function getChartData(datasets, options) {\n    if (!datasets) {\n        return;\n    }\n    if (datasets.length < 1) {\n        return [];\n    }\n    var datasetsData = options && options.datasetsData;\n    if (datasets.length > 1) {\n        // TODO: what if no series? throw error?\n        var series = options && options.series;\n        // TODO: support other ways of merging (append, etc), but for now just\n        // join the feature sets into a single table\n        return joinData(datasets, series, datasetsData);\n    }\n    // just flatten the feature set into a table\n    // TODO: make name required on datasets, or required if > 1 dataset?\n    var datasetData = getDatasetData(datasets[0], datasetsData, 'dataset0');\n    return flattenData(datasetData);\n}\n//# sourceMappingURL=dataset.js.map","export default {\n    fetch: undefined\n};\n//# sourceMappingURL=config.js.map","export function defaultQuery() {\n    return {\n        where: '1=1',\n        returnGeometry: false,\n        returnDistinctValues: false,\n        returnIdsOnly: false,\n        returnCountOnly: false,\n        outFields: '*',\n        sqlFormat: 'standard',\n        f: 'json'\n    };\n}\nexport function createQueryParams(query) {\n    if (query === void 0) { query = {}; }\n    // start w/ default query params\n    var queryParams = defaultQuery();\n    // Handle bbox\n    if (query.bbox) {\n        // make sure a geometry was not also passed in\n        if (query.geometry) {\n            throw new Error('Dataset.query can not have both a geometry and a bbox specified');\n        }\n        // Get the bbox (w,s,e,n)\n        var bboxArr = query.bbox.split(',');\n        // Remove it so it's not serialized as-is\n        delete query.bbox;\n        // cook it into a json string\n        query.geometry = JSON.stringify({\n            xmin: Number(bboxArr[0]),\n            ymin: Number(bboxArr[1]),\n            xmax: Number(bboxArr[2]),\n            ymax: Number(bboxArr[3])\n        });\n        // set spatial ref as geographic\n        query.inSR = '4326';\n    }\n    // override defaults w/ params that were passed in\n    Object.keys(query).reduce(function (params, key) {\n        var param = query[key];\n        queryParams[key] = typeof param === 'object' ? JSON.stringify(param) : param;\n        return params;\n    }, queryParams);\n    return queryParams;\n}\n//# sourceMappingURL=url.js.map","import { decodeValues, queryFeatures } from '@esri/arcgis-rest-feature-service';\nimport config from '../config';\nimport { createQueryParams } from './url';\nexport function queryDatasets(datasets) {\n    var names = [];\n    var requests = [];\n    if (datasets) {\n        datasets.forEach(function (dataset, i) {\n            // only query datasets that don't have inline data\n            if (dataset.url) {\n                // TODO: make name required on datasets, or required if > 1 dataset?\n                names.push(dataset.name || \"dataset\" + i);\n                var queryParams = createQueryParams(dataset.query);\n                var options_1 = {\n                    url: dataset.url,\n                    params: queryParams\n                };\n                if (config.fetch && typeof config.fetch === 'function') {\n                    // we are configured to use a custom fetch implementation\n                    // send that along to rest-js\n                    options_1.fetch = config.fetch;\n                }\n                requests.push(queryFeatures(options_1)\n                    .then(function (queryResponse) {\n                    var domains = dataset.domains;\n                    var fields = domains && Object.keys(domains).map(function (name) { return ({ name: name, domain: domains[name] }); });\n                    // for now, we only decode CVDs when an array of fields is passed describing codes and names\n                    if (fields && fields.length > 0) {\n                        var decodeOptions = {\n                            url: options_1.url,\n                            queryResponse: queryResponse,\n                            // TODO: decodeValues() should take `domains?: IDomains` as an alternative to `fields?: IField[]`\n                            fields: fields,\n                            fetch: config.fetch\n                        };\n                        return decodeValues(decodeOptions);\n                    }\n                    else {\n                        return queryResponse;\n                    }\n                }));\n            }\n        });\n    }\n    return Promise.all(requests)\n        .then(function (responses) {\n        // turn the array of responses into a hash keyed off the dataset names\n        var responseHash = responses.reduce(function (hash, response, i) {\n            hash[names[i]] = response;\n            return hash;\n        }, {});\n        return Promise.resolve(responseHash);\n    });\n}\n//# sourceMappingURL=query.js.map","import { cedarAmCharts } from '@esri/cedar-amcharts';\nimport { getChartData } from './dataset';\nimport { queryDatasets } from './query/query';\nfunction clone(json) {\n    return JSON.parse(JSON.stringify(json));\n}\n/**\n * An instance of a cedar chart that will be rendered at a given DOM node (container).\n */\nvar Chart = /** @class */ (function () {\n    /**\n     *\n     * @param container The DOM node where the chart will be rendered\n     * @param definition Defines how the data will be rendered in the chart\n     */\n    function Chart(container, definition) {\n        if (!container) {\n            throw new Error('A container is required');\n        }\n        this._container = container;\n        if (definition) {\n            // set the definition\n            this.definition(clone(definition));\n        }\n    }\n    Chart.prototype.definition = function (newDefinition) {\n        if (newDefinition === undefined) {\n            return this._definition;\n        }\n        else {\n            this._definition = newDefinition;\n            return this;\n        }\n    };\n    Chart.prototype.datasets = function (newDatasets) {\n        return this._definitionAccessor('datasets', newDatasets);\n    };\n    Chart.prototype.series = function (newSeries) {\n        return this._definitionAccessor('series', newSeries);\n    };\n    Chart.prototype.type = function (newType) {\n        return this._definitionAccessor('type', newType);\n    };\n    Chart.prototype.specification = function (newSpecification) {\n        return this._definitionAccessor('specification', newSpecification);\n    };\n    Chart.prototype.overrides = function (newOverrides) {\n        return this._definitionAccessor('overrides', newOverrides);\n    };\n    Chart.prototype.legend = function (newLegend) {\n        return this._definitionAccessor('legend', newLegend);\n    };\n    /**\n     * Get the chart's styles\n     */\n    Chart.prototype.style = function (newStyle) {\n        return this._definitionAccessor('style', newStyle);\n    };\n    /**\n     * Get the internal copy of the data used to render the chart\n     */\n    Chart.prototype.data = function () {\n        return this._data;\n    };\n    /**\n     * Get a dataset from the definition by name\n     * @param datasetName The name of the dataset to get\n     */\n    Chart.prototype.dataset = function (datasetName) {\n        var datasets = this.datasets();\n        var match;\n        if (datasets) {\n            datasets.some(function (dataset) {\n                if (dataset.name === datasetName) {\n                    match = dataset;\n                    return true;\n                }\n            });\n        }\n        return match;\n    };\n    /**\n     * Query data for all non-inline datasets\n     */\n    Chart.prototype.query = function () {\n        return queryDatasets(this.datasets());\n    };\n    // update chart from inline data and query responses\n    Chart.prototype.updateData = function (datasetsData) {\n        var datasets = this.datasets();\n        var options = {\n            datasetsData: datasetsData,\n            series: this.series()\n        };\n        this._data = getChartData(datasets, options);\n        return this;\n    };\n    /**\n     * Re-draw the chart based on the current data and definition\n     */\n    Chart.prototype.render = function () {\n        cedarAmCharts(this._container, this.definition(), this.data());\n        return this;\n    };\n    /**\n     * Execute the query(), updateData(), and render() functions\n     */\n    Chart.prototype.show = function () {\n        var _this = this;\n        return this.query()\n            .then(function (response) {\n            return _this.updateData(response).render();\n        });\n    };\n    // implementation for all setters/getters for definition properties\n    Chart.prototype._definitionAccessor = function (propertyName, newPropertyValue) {\n        var definition = this._definition;\n        if (newPropertyValue === undefined) {\n            return definition ? definition[propertyName] : undefined;\n        }\n        else {\n            if (definition) {\n                definition[propertyName] = newPropertyValue;\n                return this;\n            }\n            else {\n                var newDefinition = {};\n                newDefinition[propertyName] = newPropertyValue;\n                return this.definition(newDefinition);\n            }\n        }\n    };\n    return Chart;\n}());\nexport { Chart };\n//# sourceMappingURL=Chart.js.map","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nexport * from './Chart';\nexport * from './config';\n//# sourceMappingURL=index.js.map"],"names":["merge","queryFeatures","decodeValues","clone"],"mappings":";;;;;;;;;;;IAAA,IAAI,iBAAiB,GAAG,SAAS,iBAAiB,CAAC,KAAK,EAAE;IAC1D,CAAC,OAAO,eAAe,CAAC,KAAK,CAAC;IAC9B,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC;;IAEF,SAAS,eAAe,CAAC,KAAK,EAAE;IAChC,CAAC,OAAO,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ;IAC5C,CAAC;;IAED,SAAS,SAAS,CAAC,KAAK,EAAE;IAC1B,CAAC,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;IAEzD,CAAC,OAAO,WAAW,KAAK,iBAAiB;IACzC,KAAK,WAAW,KAAK,eAAe;IACpC,KAAK,cAAc,CAAC,KAAK,CAAC;IAC1B,CAAC;;IAED;IACA,IAAI,YAAY,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,CAAC;IAC9D,IAAI,kBAAkB,GAAG,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,MAAM,CAAC;;IAE7E,SAAS,cAAc,CAAC,KAAK,EAAE;IAC/B,CAAC,OAAO,KAAK,CAAC,QAAQ,KAAK,kBAAkB;IAC7C,CAAC;;IAED,SAAS,WAAW,CAAC,GAAG,EAAE;IAC1B,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE;IACvC,CAAC;;IAED,SAAS,gBAAgB,CAAC,KAAK,EAAE,eAAe,EAAE;IAClD,IAAI,IAAI,KAAK,GAAG,eAAe,IAAI,eAAe,CAAC,KAAK,KAAK,IAAI,CAAC;IAClE,IAAI,OAAO,CAAC,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,eAAe,CAAC,GAAG,KAAK;IAC9G,CAAC;;IAED,SAAS,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE;IAC5D,IAAI,IAAI,WAAW,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IACrC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;IAClC,QAAQ,IAAI,OAAO,WAAW,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;IACnD,YAAY,WAAW,CAAC,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;IAClE,SAAS,MAAM,IAAI,iBAAiB,CAAC,CAAC,CAAC,EAAE;IACzC,YAAY,WAAW,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,eAAe,CAAC,CAAC;IACtE,SAAS,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;IAC7C,YAAY,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC,CAAC;IACnE,SAAS;IACT,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,WAAW;IACtB,CAAC;;IAED,SAAS,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE;IACtD,IAAI,IAAI,WAAW,GAAG,EAAE,CAAC;IACzB,IAAI,IAAI,iBAAiB,CAAC,MAAM,CAAC,EAAE;IACnC,QAAQ,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE;IAClD,YAAY,WAAW,CAAC,GAAG,CAAC,GAAG,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,eAAe,CAAC,CAAC;IAC9E,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE;IAC9C,QAAQ,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;IAC7D,YAAY,WAAW,CAAC,GAAG,CAAC,GAAG,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,eAAe,CAAC,CAAC;IAC9E,SAAS,MAAM;IACf,YAAY,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,eAAe,CAAC,CAAC;IACpF,SAAS;IACT,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,WAAW;IACtB,CAAC;;IAED,SAAS,SAAS,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE;IACpD,IAAI,IAAI,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC9C,IAAI,IAAI,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC9C,IAAI,IAAI,OAAO,GAAG,eAAe,IAAI,EAAE,UAAU,EAAE,iBAAiB,EAAE,CAAC;IACvE,IAAI,IAAI,yBAAyB,GAAG,aAAa,KAAK,aAAa,CAAC;;IAEpE,IAAI,IAAI,CAAC,yBAAyB,EAAE;IACpC,QAAQ,OAAO,gBAAgB,CAAC,MAAM,EAAE,eAAe,CAAC;IACxD,KAAK,MAAM,IAAI,aAAa,EAAE;IAC9B,QAAQ,IAAI,UAAU,GAAG,OAAO,CAAC,UAAU,IAAI,iBAAiB,CAAC;IACjE,QAAQ,OAAO,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,CAAC;IAC1D,KAAK,MAAM;IACX,QAAQ,OAAO,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,CAAC;IAC3D,KAAK;IACL,CAAC;;IAED,SAAS,CAAC,GAAG,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE,eAAe,EAAE;IAC9D,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IACnD,QAAQ,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC;IACvF,KAAK;;IAEL;IACA,IAAI,OAAO,KAAK,CAAC,MAAM,CAAC,SAAS,IAAI,EAAE,IAAI,EAAE;IAC7C,QAAQ,OAAO,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,eAAe,CAAC;IACrD,KAAK,CAAC;IACN,CAAC,CAAC;;IAEF,IAAI,WAAW,GAAG,SAAS,CAAC;;IC5F5B,IAAI,IAAI,GAAG;IACX,IAAI,IAAI,EAAE,QAAQ;IAClB,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,WAAW,EAAE;IACjB,QAAQ,sBAAsB,EAAE,KAAK;IACrC,QAAQ,uBAAuB,EAAE,IAAI;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,MAAM,EAAE,QAAQ;IAC5B,YAAY,WAAW,EAAE,CAAC;IAC1B,YAAY,iBAAiB,EAAE,GAAG;IAClC,YAAY,qBAAqB,EAAE,CAAC;IACpC,YAAY,eAAe,EAAE,gBAAgB;IAC7C,YAAY,UAAU,EAAE,GAAG;IAC3B,YAAY,2BAA2B,EAAE,IAAI;IAC7C,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,aAAa,EAAE,EAAE;IACzB,QAAQ,QAAQ,EAAE,QAAQ;IAC1B,QAAQ,gBAAgB,EAAE,IAAI;IAC9B,QAAQ,UAAU,EAAE,EAAE;IACtB,KAAK;IACL,IAAI,SAAS,EAAE,CAAC;IAChB,YAAY,SAAS,EAAE,SAAS;IAChC,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;IC5BK,IAAI,GAAG,GAAG;IACjB,IAAI,IAAI,EAAE,QAAQ;IAClB,IAAI,MAAM,EAAE,KAAK;IACjB,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,WAAW,EAAE;IACjB,QAAQ,sBAAsB,EAAE,KAAK;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,IAAI,EAAE,QAAQ;IAC1B,YAAY,QAAQ,EAAE,IAAI;IAC1B,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,UAAU,EAAE,MAAM;IAC1B,QAAQ,OAAO,EAAE,EAAE;IACnB,KAAK;IACL,IAAI,SAAS,EAAE,CAAC;IAChB,YAAY,SAAS,EAAE,SAAS;IAChC,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;ICrBK,IAAI,aAAa,GAAG;IAC3B,IAAI,IAAI,EAAE,QAAQ;IAClB,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,MAAM,EAAE,IAAI;IAChB,IAAI,WAAW,EAAE;IACjB,QAAQ,WAAW,EAAE,IAAI;IACzB,QAAQ,gBAAgB,EAAE,IAAI;IAC9B,QAAQ,sBAAsB,EAAE,KAAK;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,IAAI,EAAE,QAAQ;IAC1B,SAAS,CAAC;IACV,IAAI,MAAM,EAAE,EAAE;IACd,IAAI,SAAS,EAAE,CAAC;IAChB,YAAY,SAAS,EAAE,GAAG;IAC1B,YAAY,SAAS,EAAE,SAAS;IAChC,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;ICpBF,IAAI,IAAI,GAAG;IACX,IAAI,IAAI,EAAE,QAAQ;IAClB,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,WAAW,EAAE;IACjB,QAAQ,sBAAsB,EAAE,KAAK;IACrC,QAAQ,uBAAuB,EAAE,IAAI;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,MAAM,EAAE,QAAQ;IAC5B,YAAY,WAAW,EAAE,CAAC;IAC1B,YAAY,iBAAiB,EAAE,GAAG;IAClC,YAAY,qBAAqB,EAAE,CAAC;IACpC;IACA,YAAY,eAAe,EAAE,gBAAgB;IAC7C,YAAY,UAAU,EAAE,CAAC;IACzB,YAAY,2BAA2B,EAAE,IAAI;IAC7C,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ;IACA,QAAQ,QAAQ,EAAE,QAAQ;IAC1B,QAAQ,gBAAgB,EAAE,IAAI;IAC9B,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;ICzBF,IAAI,GAAG,GAAG;IACV,IAAI,IAAI,EAAE,KAAK;IACf,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,WAAW,EAAE,IAAI;IACrB,IAAI,aAAa,EAAE,CAAC;IACpB,IAAI,MAAM,EAAE,CAAC,EAAE,CAAC;IAChB,IAAI,YAAY,EAAE,CAAC;IACnB,IAAI,OAAO,EAAE;IACb,QAAQ,aAAa,EAAE,IAAI;IAC3B,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,KAAK;IACtB,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;IChBF,IAAI,KAAK,GAAG;IACZ,IAAI,IAAI,EAAE,OAAO;IACjB,IAAI,SAAS,EAAE,CAAC;IAChB,YAAY,QAAQ,EAAE,SAAS;IAC/B,YAAY,OAAO,EAAE,CAAC;IACtB,SAAS,CAAC;IACV,IAAI,YAAY,EAAE;IAClB,QAAQ,OAAO,EAAE,CAAC;IAClB,QAAQ,OAAO,EAAE,GAAG;IACpB,QAAQ,IAAI,EAAE,CAAC;IACf,KAAK;IACL,IAAI,aAAa,EAAE,CAAC;IACpB,IAAI,MAAM,EAAE,CAAC,EAAE,cAAc,EAAE,CAAC,EAAE,CAAC;IACnC,IAAI,YAAY,EAAE,CAAC;IACnB,IAAI,OAAO,EAAE;IACb,QAAQ,aAAa,EAAE,IAAI;IAC3B,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,QAAQ,QAAQ,EAAE,OAAO;IACzB,QAAQ,WAAW,EAAE,GAAG;IACxB,QAAQ,WAAW,EAAE,KAAK;IAC1B,KAAK;IACL,CAAC,CAAC;;ICtBF,IAAI,OAAO,GAAG;IACd,IAAI,IAAI,EAAE,IAAI;IACd,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,SAAS,EAAE,CAAC;IAChB,YAAY,SAAS,EAAE,GAAG;IAC1B,YAAY,SAAS,EAAE,GAAG;IAC1B,YAAY,QAAQ,EAAE,QAAQ;IAC9B,SAAS,EAAE;IACX,YAAY,SAAS,EAAE,GAAG;IAC1B,YAAY,SAAS,EAAE,GAAG;IAC1B,YAAY,QAAQ,EAAE,MAAM;IAC5B,SAAS,CAAC;IACV,IAAI,cAAc,EAAE;IACpB,QAAQ,eAAe,EAAE,CAAC;IAC1B,QAAQ,MAAM,EAAE,CAAC,CAAC;IAClB,QAAQ,eAAe,EAAE,GAAG;IAC5B,QAAQ,eAAe,EAAE,SAAS;IAClC,QAAQ,uBAAuB,EAAE,SAAS;IAC1C,QAAQ,uBAAuB,EAAE,CAAC;IAClC,QAAQ,aAAa,EAAE,EAAE;IACzB,QAAQ,cAAc,EAAE,EAAE;IAC1B,KAAK;IACL,IAAI,WAAW,EAAE;IACjB,QAAQ,sBAAsB,EAAE,IAAI;IACpC,QAAQ,WAAW,EAAE,GAAG;IACxB,QAAQ,cAAc,EAAE,GAAG;IAC3B,QAAQ,uBAAuB,EAAE,IAAI;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,UAAU,EAAE,CAAC;IACzB,YAAY,SAAS,EAAE,CAAC;IACxB,YAAY,MAAM,EAAE,QAAQ;IAC5B,YAAY,iBAAiB,EAAE,GAAG;IAClC,YAAY,WAAW,EAAE,GAAG;IAC5B,YAAY,UAAU,EAAE,IAAI;IAC5B,YAAY,MAAM,EAAE,IAAI;IACxB,YAAY,MAAM,EAAE,IAAI;IACxB,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;ICzCF,IAAI,QAAQ,GAAG;IACf,IAAI,IAAI,EAAE,QAAQ;IAClB,IAAI,KAAK,EAAE,SAAS;IACpB,IAAI,WAAW,EAAE;IACjB,QAAQ,sBAAsB,EAAE,KAAK;IACrC,QAAQ,uBAAuB,EAAE,IAAI;IACrC,KAAK;IACL,IAAI,MAAM,EAAE,CAAC;IACb,YAAY,MAAM,EAAE,QAAQ;IAC5B,YAAY,WAAW,EAAE,CAAC;IAC1B,YAAY,iBAAiB,EAAE,GAAG;IAClC,YAAY,qBAAqB,EAAE,CAAC;IACpC;IACA,YAAY,eAAe,EAAE,gBAAgB;IAC7C,YAAY,UAAU,EAAE,CAAC;IACzB,YAAY,2BAA2B,EAAE,IAAI;IAC7C,SAAS,CAAC;IACV,IAAI,MAAM,EAAE;IACZ;IACA,QAAQ,QAAQ,EAAE,QAAQ;IAC1B,QAAQ,gBAAgB,EAAE,IAAI;IAC9B,KAAK;IACL,IAAI,YAAY,EAAE;IAClB,QAAQ,UAAU,EAAE,IAAI;IACxB,KAAK;IACL,IAAI,MAAM,EAAE;IACZ,QAAQ,OAAO,EAAE,IAAI;IACrB,KAAK;IACL,CAAC,CAAC;;ICpBF,IAAI,KAAK,GAAG;IACZ,IAAI,GAAG,EAAE,GAAG;IACZ,IAAI,gBAAgB,EAAE,aAAa;IACnC,IAAI,IAAI,EAAE,IAAI;IACd,IAAI,IAAI,EAAE,IAAI;IACd,IAAI,GAAG,EAAE,GAAG;IACZ,IAAI,KAAK,EAAE,KAAK;IAChB,IAAI,OAAO,EAAE,OAAO;IACpB,IAAI,QAAQ,EAAE,QAAQ;IACtB,CAAC,CAAC;;ICfF;AACA,IAAO,SAAS,WAAW,CAAC,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE;IACzD,IAAI,IAAI,UAAU,CAAC,IAAI,KAAK,QAAQ,EAAE;IACtC,QAAQ,IAAI,OAAO,GAAG,QAAQ,CAAC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC,aAAa,CAAC,CAAC;IAC9E,QAAQ,OAAO,OAAO,CAAC;IACvB,KAAK;IACL;IACA;IACA,IAAI,IAAI,oBAAoB,GAAG,UAAU,CAAC,aAAa,IAAI,OAAO,UAAU,CAAC,aAAa,KAAK,QAAQ,CAAC;IACxG;IACA;IACA,IAAI,IAAI,IAAI,GAAG,oBAAoB,GAAG,KAAK,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACnG,IAAI,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/B;IACA,IAAI,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;IACjC;IACA,IAAI,IAAI,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE;IAC/B,QAAQ,IAAI,GAAG,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IAC5C,KAAK;IACL;IACA,IAAI,IAAI,UAAU,CAAC,SAAS,EAAE;IAC9B;IACA;IACA,QAAQ,IAAI,GAAGA,WAAK,CAAC,IAAI,EAAE,UAAU,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAClE,KAAK;IACL,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACpD;IACA,IAAI,IAAI,UAAU,CAAC,IAAI,KAAK,KAAK,EAAE;IACnC;IACA,QAAQ,KAAK,CAAC,WAAW,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC;IAC1D,KAAK;IACL,IAAI,OAAO,KAAK,CAAC;IACjB,CAAC;IACD,SAAS,iBAAiB,CAAC,UAAU,EAAE;IACvC;IACA,IAAI,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;IAChH;IACA,IAAI,IAAI,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;IACvG;IACA,IAAI,OAAO,OAAO,GAAG,aAAa,GAAG,sBAAsB,GAAG,UAAU,GAAG,iCAAiC,CAAC;IAC7G,CAAC;AACD,IAAO,SAAS,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE;IAC7C;IACA,IAAI,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;IACtC,IAAI,IAAI,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IAClD;IACA;IACA,IAAI,IAAI,CAAC,aAAa,GAAG,QAAQ,GAAG,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC;IAC1F;IACA,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACzB,KAAK;IACL;IACA;IACA;IACA;IACA,IAAI,IAAI,UAAU,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;IACzE,QAAQ,UAAU,CAAC,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC;IAC7D,KAAK;IACL;IACA,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,KAAK,UAAU,CAAC,IAAI,KAAK,KAAK,IAAI,UAAU,CAAC,IAAI,KAAK,OAAO,CAAC,EAAE;IACtG;IACA,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;IACpC;IACA,QAAQ,IAAI,mBAAmB,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC;IACtE,QAAQ,IAAI,gBAAgB,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;IAChE,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;IACjE;IACA;IACA,YAAY,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;IACnD;IACA,gBAAgB,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;IAChD,oBAAoB,IAAI,CAAC,KAAK,GAAG,mBAAmB,CAAC;IACrD,iBAAiB;IACjB,qBAAqB,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM,EAAE;IACnD,oBAAoB,IAAI,CAAC,KAAK,GAAG,gBAAgB,CAAC;IAClD,iBAAiB;IACjB,aAAa,CAAC,CAAC;IACf,SAAS;IACT,aAAa;IACb;IACA,YAAY,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;IACjC,gBAAgB,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC;IACtC,aAAa;IACb,YAAY,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;IACvE,YAAY,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC;IAChD;IACA,YAAY,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;IACpC,gBAAgB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvC,aAAa;IACb,YAAY,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,mBAAmB,CAAC;IAC1D,SAAS;IACT,KAAK;IACL;IACA,IAAI,IAAI,UAAU,CAAC,MAAM,EAAE;IAC3B,QAAQ,IAAI,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;IACvC,QAAQ,IAAI,wBAAwB,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IAC1E,QAAQ,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;IAC9C,YAAY,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IACjD,SAAS;IACT,QAAQ,IAAI,MAAM,CAAC,QAAQ,IAAI,wBAAwB,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;IACvF,YAAY,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;IACnD,SAAS;IACT,KAAK;IACL;IACA;IACA,IAAI,IAAI,UAAU,CAAC,KAAK,EAAE;IAC1B;IACA,QAAQ,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;IACrC;IACA;IACA,QAAQ,IAAI,KAAK,CAAC,OAAO,EAAE;IAC3B,YAAY,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IACxC;IACA,YAAY,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IACrC,YAAY,IAAI,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;IAC/C,gBAAgB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC;IAC7C,aAAa;IACb,YAAY,IAAI,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;IAClD,gBAAgB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC;IACnD,aAAa;IACb,YAAY,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;IAChD,gBAAgB,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC;IAC/C,aAAa;IACb,YAAY,IAAI,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;IACjD,gBAAgB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC;IACjD,aAAa;IACb,SAAS;IACT;IACA;IACA,QAAQ,IAAI,KAAK,CAAC,GAAG,EAAE;IACvB,YAAY,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;IAChC;IACA;IACA,YAAY,IAAI,GAAG,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE;IACnD,gBAAgB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;IACnD,aAAa;IACb;IACA,YAAY,IAAI,GAAG,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;IAC9C,gBAAgB,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC;IAChD,aAAa;IACb,SAAS;IACT,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;IACzD,YAAY,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IACvC,SAAS;IACT,KAAK;IACL;IACA,IAAI,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE,CAAC,EAAE;IACtD,QAAQ,IAAI,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC;IACvC;IACA,QAAQ,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE,CAAC,EAAE;IACvD,YAAY,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC,MAAM,EAAE;IAChD,gBAAgB,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;IAC7C;IACA,gBAAgB,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;IACjD;IACA,gBAAgB,KAAK,CAAC,UAAU,GAAG,QAAQ,GAAG,WAAW,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;IAC1G;IACA;IACA,gBAAgB,KAAK,CAAC,WAAW,GAAG,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,GAAG,IAAI,CAAC,aAAa,GAAG,eAAe,GAAG,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;IAC3K;IACA,gBAAgB,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE;IACtD,oBAAoB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC3C,iBAAiB;IACjB;IACA,gBAAgB,IAAI,UAAU,CAAC,IAAI,KAAK,KAAK,EAAE;IAC/C,oBAAoB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC;IACzD,oBAAoB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;IACvD,iBAAiB;IACjB;IACA,gBAAgB,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE;IAC/E,oBAAoB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;IACzD,oBAAoB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;IACtD,oBAAoB,KAAK,CAAC,WAAW,GAAG,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,eAAe,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC;IAC3L;IACA,oBAAoB,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE;IAC3D,wBAAwB,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IAC7D,wBAAwB,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,GAAG,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;IACrI,qBAAqB;IACrB,yBAAyB;IACzB,wBAAwB,OAAO,KAAK,CAAC,UAAU,CAAC;IAChD,qBAAqB;IACrB,iBAAiB;IACjB,gBAAgB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACxC,aAAa;IACb,SAAS,CAAC,CAAC;IACX,KAAK,CAAC,CAAC;IACP,IAAI,OAAO,IAAI,CAAC;IAChB,CAAC;AACD,IAAO,SAAS,SAAS,CAAC,IAAI,EAAE;IAChC,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC;IACpB,IAAI,IAAI,IAAI,KAAK,MAAM,EAAE;IACzB,QAAQ,OAAO,CAAC,IAAI,CAAC,qEAAqE,CAAC,CAAC;IAC5F,QAAQ,IAAI,GAAG,UAAU,CAAC;IAC1B,KAAK;IACL,SAAS,IAAI,IAAI,KAAK,QAAQ,EAAE;IAChC,QAAQ,OAAO,CAAC,IAAI,CAAC,sEAAsE,CAAC,CAAC;IAC7F,QAAQ,IAAI,GAAG,SAAS,CAAC;IACzB,KAAK;IACL,SAAS,IAAI,IAAI,KAAK,SAAS,EAAE;IACjC,QAAQ,OAAO,CAAC,IAAI,CAAC,mEAAmE,CAAC,CAAC;IAC1F,QAAQ,IAAI,GAAG,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9B,CAAC;IACD,SAAS,KAAK,CAAC,IAAI,EAAE;IACrB,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5C,CAAC;IACD;IACA,IAAI,MAAM,GAAG;IACb,IAAI,WAAW,EAAE,WAAW;IAC5B,IAAI,UAAU,EAAE,UAAU;IAC1B,IAAI,SAAS,EAAE,SAAS;IACxB,CAAC,CAAC;;ICtNK,SAAS,aAAa,CAAC,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE;IAC3D,IAAI,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,MAAM,UAAU,CAAC,IAAI,IAAI,UAAU,CAAC,IAAI,KAAK,QAAQ,CAAC,EAAE;IACnG,QAAQ,IAAI,GAAG,GAAG,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAC;IAClF,QAAQ,MAAM,GAAG,CAAC;IAClB,KAAK;IACL,IAAI,IAAI,UAAU,CAAC,IAAI,IAAI,UAAU,CAAC,IAAI,KAAK,QAAQ,EAAE;IACzD,QAAQ,OAAO,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;IACzD,KAAK;IACL,IAAI,OAAO,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;;ICVD;IACA;IACA,SAAS,WAAW,CAAC,IAAI,EAAE;IAC3B,IAAI,OAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IAChD,CAAC;IACD;IACA;IACA,SAAS,aAAa,CAAC,GAAG,EAAE;IAC5B;IACA,IAAI,IAAI,GAAG,CAAC,UAAU,EAAE;IACxB,QAAQ,OAAO,GAAG,CAAC,UAAU,CAAC;IAC9B,KAAK;IACL,SAAS;IACT,QAAQ,OAAO,GAAG,CAAC;IACnB,KAAK;IACL,CAAC;IACD;IACA,SAAS,qBAAqB,CAAC,WAAW,EAAE,MAAM,EAAE;IACpD,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,CAAC,EAAE;IAC9C,QAAQ,IAAI,CAAC,CAAC,MAAM,KAAK,WAAW,IAAI,CAAC,CAAC,KAAK,EAAE;IACjD,YAAY,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACvC,SAAS;IACT,QAAQ,OAAO,MAAM,CAAC;IACtB,KAAK,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IACD;IACA,SAAS,wBAAwB,CAAC,WAAW,EAAE,UAAU,EAAE;IAC3D,IAAI,OAAO,WAAW,GAAG,GAAG,GAAG,UAAU,CAAC;IAC1C,CAAC;IACD,SAAS,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE;IACrD,IAAI,IAAI,WAAW,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC;IAC3C,IAAI,OAAO,OAAO,CAAC,IAAI,IAAI,YAAY,CAAC,WAAW,CAAC,CAAC;IACrD,CAAC;IACD;IACA;IACA,SAAS,WAAW,CAAC,IAAI,EAAE;IAC3B,IAAI,IAAI,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;IACrC,IAAI,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE;IACvD;IACA,QAAQ,OAAO,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC3C,KAAK;IACL,SAAS;IACT;IACA,QAAQ,OAAO,QAAQ,CAAC;IACxB,KAAK;IACL,CAAC;IACD;IACA,SAAS,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE;IAClD;IACA;IACA;IACA,IAAI,IAAI,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE;IACjE;IACA,QAAQ,IAAI,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;IACnC;IACA;IACA,QAAQ,IAAI,WAAW,GAAG,cAAc,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;IAChE;IACA;IACA,QAAQ,IAAI,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC;IACvC,QAAQ,IAAI,WAAW,GAAG,qBAAqB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACrE;IACA,QAAQ,WAAW,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE;IAC5D;IACA,YAAY,IAAI,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IAC/C,YAAY,IAAI,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;IAC3C;IACA,YAAY,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE;IAChD;IACA,gBAAgB,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,aAAa,EAAE,SAAS,EAAE,CAAC;IAChE,aAAa;IACb;IACA,YAAY,WAAW,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,UAAU,EAAE;IAC1D;IACA,gBAAgB,GAAG,CAAC,wBAAwB,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC;IAC3F;IACA,gBAAgB,OAAO,GAAG,CAAC;IAC3B,aAAa,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;IACjC,SAAS,CAAC,CAAC;IACX,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK,EAAE,EAAE,CAAC,CAAC;IACX;IACA,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACjF,CAAC;IACD;AACA,IAAO,SAAS,YAAY,CAAC,QAAQ,EAAE,OAAO,EAAE;IAChD,IAAI,IAAI,CAAC,QAAQ,EAAE;IACnB,QAAQ,OAAO;IACf,KAAK;IACL,IAAI,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;IAC7B,QAAQ,OAAO,EAAE,CAAC;IAClB,KAAK;IACL,IAAI,IAAI,YAAY,GAAG,OAAO,IAAI,OAAO,CAAC,YAAY,CAAC;IACvD,IAAI,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;IAC7B;IACA,QAAQ,IAAI,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC;IAC/C;IACA;IACA,QAAQ,OAAO,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC;IACxD,KAAK;IACL;IACA;IACA,IAAI,IAAI,WAAW,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;IAC5E,IAAI,OAAO,WAAW,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;;ACxGD,iBAAe;IACf,IAAI,KAAK,EAAE,SAAS;IACpB,CAAC,CAAC;;ICFK,SAAS,YAAY,GAAG;IAC/B,IAAI,OAAO;IACX,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,cAAc,EAAE,KAAK;IAC7B,QAAQ,oBAAoB,EAAE,KAAK;IACnC,QAAQ,aAAa,EAAE,KAAK;IAC5B,QAAQ,eAAe,EAAE,KAAK;IAC9B,QAAQ,SAAS,EAAE,GAAG;IACtB,QAAQ,SAAS,EAAE,UAAU;IAC7B,QAAQ,CAAC,EAAE,MAAM;IACjB,KAAK,CAAC;IACN,CAAC;AACD,IAAO,SAAS,iBAAiB,CAAC,KAAK,EAAE;IACzC,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,EAAE,CAAC,EAAE;IACzC;IACA,IAAI,IAAI,WAAW,GAAG,YAAY,EAAE,CAAC;IACrC;IACA,IAAI,IAAI,KAAK,CAAC,IAAI,EAAE;IACpB;IACA,QAAQ,IAAI,KAAK,CAAC,QAAQ,EAAE;IAC5B,YAAY,MAAM,IAAI,KAAK,CAAC,iEAAiE,CAAC,CAAC;IAC/F,SAAS;IACT;IACA,QAAQ,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC5C;IACA,QAAQ,OAAO,KAAK,CAAC,IAAI,CAAC;IAC1B;IACA,QAAQ,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;IACxC,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,SAAS,CAAC,CAAC;IACX;IACA,QAAQ,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;IAC5B,KAAK;IACL;IACA,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE;IACrD,QAAQ,IAAI,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IAC/B,QAAQ,WAAW,CAAC,GAAG,CAAC,GAAG,OAAO,KAAK,KAAK,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACrF,QAAQ,OAAO,MAAM,CAAC;IACtB,KAAK,EAAE,WAAW,CAAC,CAAC;IACpB,IAAI,OAAO,WAAW,CAAC;IACvB,CAAC;;ICxCM,SAAS,aAAa,CAAC,QAAQ,EAAE;IACxC,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC;IACnB,IAAI,IAAI,QAAQ,GAAG,EAAE,CAAC;IACtB,IAAI,IAAI,QAAQ,EAAE;IAClB,QAAQ,QAAQ,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE,CAAC,EAAE;IAC/C;IACA,YAAY,IAAI,OAAO,CAAC,GAAG,EAAE;IAC7B;IACA,gBAAgB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,SAAS,GAAG,CAAC,CAAC,CAAC;IAC1D,gBAAgB,IAAI,WAAW,GAAG,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACnE,gBAAgB,IAAI,SAAS,GAAG;IAChC,oBAAoB,GAAG,EAAE,OAAO,CAAC,GAAG;IACpC,oBAAoB,MAAM,EAAE,WAAW;IACvC,iBAAiB,CAAC;AAClB,IAKA,gBAAgB,QAAQ,CAAC,IAAI,CAACC,sCAAa,CAAC,SAAS,CAAC;IACtD,qBAAqB,IAAI,CAAC,UAAU,aAAa,EAAE;IACnD,oBAAoB,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;IAClD,oBAAoB,IAAI,MAAM,GAAG,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC1I;IACA,oBAAoB,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;IACrD,wBAAwB,IAAI,aAAa,GAAG;IAC5C,4BAA4B,GAAG,EAAE,SAAS,CAAC,GAAG;IAC9C,4BAA4B,aAAa,EAAE,aAAa;IACxD;IACA,4BAA4B,MAAM,EAAE,MAAM;IAC1C,4BAA4B,KAAK,EAAE,MAAM,CAAC,KAAK;IAC/C,yBAAyB,CAAC;IAC1B,wBAAwB,OAAOC,qCAAY,CAAC,aAAa,CAAC,CAAC;IAC3D,qBAAqB;IACrB,yBAAyB;IACzB,wBAAwB,OAAO,aAAa,CAAC;IAC7C,qBAAqB;IACrB,iBAAiB,CAAC,CAAC,CAAC;IACpB,aAAa;IACb,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;IAChC,SAAS,IAAI,CAAC,UAAU,SAAS,EAAE;IACnC;IACA,QAAQ,IAAI,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE;IACzE,YAAY,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;IACtC,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS,EAAE,EAAE,CAAC,CAAC;IACf,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAC7C,KAAK,CAAC,CAAC;IACP,CAAC;;IClDD,SAASC,OAAK,CAAC,IAAI,EAAE;IACrB,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5C,CAAC;IACD;IACA;IACA;AACA,AAAG,QAAC,KAAK,kBAAkB,YAAY;IACvC;IACA;IACA;IACA;IACA;IACA,IAAI,SAAS,KAAK,CAAC,SAAS,EAAE,UAAU,EAAE;IAC1C,QAAQ,IAAI,CAAC,SAAS,EAAE;IACxB,YAAY,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IACvD,SAAS;IACT,QAAQ,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IACpC,QAAQ,IAAI,UAAU,EAAE;IACxB;IACA,YAAY,IAAI,CAAC,UAAU,CAACA,OAAK,CAAC,UAAU,CAAC,CAAC,CAAC;IAC/C,SAAS;IACT,KAAK;IACL,IAAI,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,aAAa,EAAE;IAC1D,QAAQ,IAAI,aAAa,KAAK,SAAS,EAAE;IACzC,YAAY,OAAO,IAAI,CAAC,WAAW,CAAC;IACpC,SAAS;IACT,aAAa;IACb,YAAY,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC;IAC7C,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,WAAW,EAAE;IACtD,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;IACjE,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;IAClD,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC7D,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,OAAO,EAAE;IAC9C,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACzD,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,gBAAgB,EAAE;IAChE,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,gBAAgB,CAAC,CAAC;IAC3E,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,YAAY,EAAE;IACxD,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;IACnE,KAAK,CAAC;IACN,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;IAClD,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC7D,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,QAAQ,EAAE;IAChD,QAAQ,OAAO,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC3D,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;IACvC,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC;IAC1B,KAAK,CAAC;IACN;IACA;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,WAAW,EAAE;IACrD,QAAQ,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IACvC,QAAQ,IAAI,KAAK,CAAC;IAClB,QAAQ,IAAI,QAAQ,EAAE;IACtB,YAAY,QAAQ,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;IAC7C,gBAAgB,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,EAAE;IAClD,oBAAoB,KAAK,GAAG,OAAO,CAAC;IACpC,oBAAoB,OAAO,IAAI,CAAC;IAChC,iBAAiB;IACjB,aAAa,CAAC,CAAC;IACf,SAAS;IACT,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;IACxC,QAAQ,OAAO,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC9C,KAAK,CAAC;IACN;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,YAAY,EAAE;IACzD,QAAQ,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IACvC,QAAQ,IAAI,OAAO,GAAG;IACtB,YAAY,YAAY,EAAE,YAAY;IACtC,YAAY,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE;IACjC,SAAS,CAAC;IACV,QAAQ,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACrD,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;IACzC,QAAQ,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;IACvE,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN;IACA;IACA;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;IACvC,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,OAAO,IAAI,CAAC,KAAK,EAAE;IAC3B,aAAa,IAAI,CAAC,UAAU,QAAQ,EAAE;IACtC,YAAY,OAAO,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;IACvD,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN;IACA,IAAI,KAAK,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,YAAY,EAAE,gBAAgB,EAAE;IACpF,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;IAC1C,QAAQ,IAAI,gBAAgB,KAAK,SAAS,EAAE;IAC5C,YAAY,OAAO,UAAU,GAAG,UAAU,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC;IACrE,SAAS;IACT,aAAa;IACb,YAAY,IAAI,UAAU,EAAE;IAC5B,gBAAgB,UAAU,CAAC,YAAY,CAAC,GAAG,gBAAgB,CAAC;IAC5D,gBAAgB,OAAO,IAAI,CAAC;IAC5B,aAAa;IACb,iBAAiB;IACjB,gBAAgB,IAAI,aAAa,GAAG,EAAE,CAAC;IACvC,gBAAgB,aAAa,CAAC,YAAY,CAAC,GAAG,gBAAgB,CAAC;IAC/D,gBAAgB,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;IACtD,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,IAAI,OAAO,KAAK,CAAC;IACjB,CAAC,EAAE,CAAC;;ICrIJ;IACA,gBAAgB;;;;;;;;;;;;"}